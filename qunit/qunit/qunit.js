(function(m){function H(a){s(this,a);this.assertions=[];this.testNumber=++H.count}function Q(a){var c=d.filter&&d.filter.toLowerCase(),b=d.module&&d.module.toLowerCase(),j=(a.module+": "+a.testName).toLowerCase();if(a.callback&&a.callback.validTest===Q)return delete a.callback.validTest,!0;if(d.testNumber)return a.testNumber===d.testNumber;if(b&&(!a.module||a.module.toLowerCase()!==b))return!1;if(!c)return!0;(a="!"!==c.charAt(0))||(c=c.slice(1));return-1!==j.indexOf(c)?a:!a}function I(a,c){c=void 0===c?3:c;var b,d,e;if(a.stacktrace)return a.stacktrace.split("\n")[c+3];if(a.stack){b=a.stack.split("\n");/^error$/i.test(b[0])&&b.shift();if(U){d=[];e=c;for(var g=b.length;e<g&&-1===b[e].indexOf(U);e++)d.push(b[e]);if(d.length)return d.join("\n")}return b[c]}if(a.sourceURL&&!/qunit.js$/.test(a.sourceURL))return a.sourceURL+":"+a.line}function w(a){try{throw Error();}catch(c){return I(c,a)}}function p(a){return!a?"":(a+"").replace(/['"<>&]/g,function(a){switch(a){case "'":return"'";case '"':return'"';case "<":return"<";case ">":return">";case "&":return"&"}})}function A(a,c){d.queue.push(a);d.autorun&&!d.blocking&&J(c)}function J(a){function c(){J(a)}var b=(new t).getTime();for(d.depth=d.depth?d.depth+1:1;d.queue.length&&!d.blocking;)if(!x.setTimeout||0>=d.updateRate||(new t).getTime()-b<d.updateRate)d.queue.shift()();else{m.setTimeout(c,13);break}d.depth--;if(a&&!d.blocking&&!d.queue.length&&0===d.depth){d.autorun=!0;d.currentModule&&u("moduleDone",e,{name:d.currentModule,failed:d.moduleStats.bad,passed:d.moduleStats.all-d.moduleStats.bad,total:d.moduleStats.all});var j,h;j=q("qunit-banner");h=q("qunit-tests");var b=+new t-d.started,g=d.stats.all-d.stats.bad,f=g==d.stats.all?["\u30c6\u30b9\u30c8\u306f ",b," \u30df\u30ea\u79d2\u3067\u5b8c\u4e86\u3057\u307e\u3057\u305f.<br/><span class='passed'>",g,"</span> \u30c6\u30b9\u30c8\u3059\u3079\u3066\u6210\u529f\u3067\u3057\u305f. <span class='total'></span><span class='failed'></span>"].join(""):["\u30c6\u30b9\u30c8\u306f ",b," \u30df\u30ea\u79d2\u3067\u5b8c\u4e86\u3057\u307e\u3057\u305f.<br/><span class='passed'>",d.stats.all,"</span> \u30c6\u30b9\u30c8\u306e\u3046\u3061 <span class='total'>",g,"</span> \u500b \u6210\u529f, <span class='failed'>",d.stats.bad,"</span> \u500b \u5931\u6557\u3057\u307e\u3057\u305f."].join("");j&&(j.className=d.stats.bad?"qunit-fail":"qunit-pass");h&&(q("qunit-testresult").innerHTML=f);d.altertitle&&"undefined"!==typeof k&&k.title&&(k.title=[d.stats.bad?"\u2716":"\u2714",k.title.replace(/^[\u2714\u2716] /i,"")].join(" "));if(d.reorder&&x.sessionStorage&&0===d.stats.bad){j=0;for(f=sessionStorage.length;j<f;j++)h=sessionStorage.key(j++),0===h.indexOf("qunit-test-")&&sessionStorage.removeItem(h)}m.scrollTo&&m.scrollTo(0,0);u("done",e,{failed:d.stats.bad,passed:g,total:d.stats.all,runtime:b})}}function R(){d.pollution=[];if(d.noglobals)for(var a in m)K.call(m,a)&&!/^qunit-test-output/.test(a)&&d.pollution.push(a)}function V(a,c){var b,d,e=a.slice(),g=e.length;for(b=0;b<g;b++)for(d=0;d<c.length;d++)if(e[b]===c[d]){e.splice(b,1);b--;break}return e}function s(a,c){for(var b in c)if(void 0===c[b])delete a[b];else if("constructor"!==b||a!==m)a[b]=c[b];return a}function B(a,c,b){a.addEventListener?a.addEventListener(c,b,!1):a.attachEvent?a.attachEvent("on"+c,b):b()}function W(a,c){-1<(" "+a.className+" ").indexOf(" "+c+" ")||(a.className+=(a.className?" ":"")+c)}function Y(a,c){for(var b=" "+a.className+" ";-1<b.indexOf(" "+c+" ");)b=b.replace(" "+c+" "," ");a.className=m.jQuery?jQuery.trim(b):b.trim?b.trim():b}function q(a){return!!("undefined"!==typeof k&&k&&k.getElementById)&&k.getElementById(a)}function z(a){return function(c){d[a].push(c)}}function u(a,c,b){var j;if(e.hasOwnProperty(a))e[a].call(c,b);else{j=d[a];for(a=0;a<j.length;a++)j[a].call(c,b)}}function L(a){return a.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/&"/g,"&amp;")}function Z(){var a=navigator.userAgent;if(a.match(/msie/i)){if(a.match(/msie 9/i))return"IE9";if(a.match(/msie 8/i))return"IE8";if(a.match(/msie 7/i))return"IE7"}else return a.match(/firefox/i)?"firefox":a.match(/opera/i)?"opera":a.match(/netscape/i)?"netscape":a.match(/safari/i)?a.match(/chrome/i)?"chrome":"safari":a.match(/ipad/i)?"iPad":a.match(/iphone/i)?"iPhone":a.match(/ipod/i)?"iPod":a.match(/android/i)?a.match(/mobile/i)?"Android":"AndroidTab":"unrecognized"}var k=m.document,e,n,d,S,$=0,U=(w(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,""),X=Object.prototype.toString,K=Object.prototype.hasOwnProperty,t=m.Date;n="undefined"!==typeof m.setTimeout;var r;try{sessionStorage.setItem("qunit-test-string","qunit-test-string"),sessionStorage.removeItem("qunit-test-string"),r=!0}catch(ca){r=!1}var x={setTimeout:n,sessionStorage:r},D=function(a){var c,b,d=e.is("array",a)?[]:{};for(c in a)K.call(a,c)&&(b=a[c],d[c]=b===Object(b)?D(b):b);return d};H.count=0;H.prototype={init:function(){var a,c,b,d=q("qunit-tests");d&&(c=k.createElement("strong"),c.innerHTML=this.nameHtml,a=k.createElement("a"),a.innerHTML="\u518d\u5b9f\u884c",a.href=e.url({testNumber:this.testNumber}),b=k.createElement("li"),b.appendChild(c),b.appendChild(a),b.className="running",b.id=this.id="qunit-test-output"+$++,d.appendChild(b))},setup:function(){this.module!==d.previousModule?(d.previousModule&&u("moduleDone",e,{name:d.previousModule,failed:d.moduleStats.bad,passed:d.moduleStats.all-d.moduleStats.bad,total:d.moduleStats.all}),d.previousModule=this.module,d.moduleStats={all:0,bad:0},u("moduleStart",e,{name:this.module})):d.autorun&&u("moduleStart",e,{name:this.module});d.current=this;this.testEnvironment=s({setup:function(){},teardown:function(){}},this.moduleTestEnvironment);this.started=+new t;u("testStart",e,{name:this.testName,module:this.module});e.current_testEnvironment=this.testEnvironment;d.pollution||R();if(d.notrycatch)this.testEnvironment.setup.call(this.testEnvironment);else try{this.testEnvironment.setup.call(this.testEnvironment)}catch(a){e.pushFailure("Setup failed on "+this.testName+": "+(a.message||a),I(a,1))}},run:function(){d.current=this;var a=q("qunit-testresult");a&&(a.innerHTML="\u5b9f\u884c\u4e2d: <br/>"+this.nameHtml);this.async&&e.stop();this.callbackStarted=+new t;if(d.notrycatch)this.callback.call(this.testEnvironment,e.assert),this.callbackRuntime=+new t-this.callbackStarted;else try{this.callback.call(this.testEnvironment,e.assert),this.callbackRuntime=+new t-this.callbackStarted}catch(c){this.callbackRuntime=+new t-this.callbackStarted,e.pushFailure("\u30c6\u30b9\u30c8\u4e2d\u306b\u6b7b\u4ea1\u4e8b\u6545\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002 #"+(this.assertions.length+1)+" "+this.stack+": "+(c.message||c),I(c,0)),R(),d.blocking&&e.start()}},teardown:function(){d.current=this;if(d.notrycatch)"undefined"===typeof this.callbackRuntime&&(this.callbackRuntime=+new t-this.callbackStarted),this.testEnvironment.teardown.call(this.testEnvironment);else{try{this.testEnvironment.teardown.call(this.testEnvironment)}catch(a){e.pushFailure("Teardown failed on "+this.testName+": "+(a.message||a),I(a,1))}var c,b=d.pollution;R();c=V(d.pollution,b);0<c.length&&e.pushFailure("Introduced global variable(s): "+c.join(", "));c=V(b,d.pollution);0<c.length&&e.pushFailure("Deleted global variable(s): "+c.join(", "))}},finish:function(){d.current=this;d.requireExpects&&null===this.expected?e.pushFailure("Expected number of assertions to be defined, but expect() was not called.",this.stack):null!==this.expected&&this.expected!==this.assertions.length?e.pushFailure(this.expected+" \u500b\u306e\u30c6\u30b9\u30c8\u306e\u306f\u305a\u304c "+this.assertions.length+" \u500b\u3042\u308a\u307e\u3059\u3002",this.stack):null===this.expected&&!this.assertions.length&&e.pushFailure("1\u3064\u3082\u30c6\u30b9\u30c8\u304c\u3042\u308a\u307e\u305b\u3093\u3002",this.stack);var a,c,b,j,h,g,f=b=0;h=q("qunit-tests");this.runtime=+new t-this.started;d.stats.all+=this.assertions.length;d.moduleStats.all+=this.assertions.length;if(h){g=k.createElement("ol");g.className="qunit-assert-list";var l=this.assertions.length;for(a=0;a<l;a++)c=this.assertions[a],h=k.createElement("li"),h.className=c.result?"pass":"fail",h.innerHTML=c.message||(c.result?"okay":"failed"),g.appendChild(h),c.result?b++:(f++,d.stats.bad++,d.moduleStats.bad++);e.config.reorder&&x.sessionStorage&&(f?sessionStorage.setItem("qunit-test-"+this.module+"-"+this.testName,f):sessionStorage.removeItem("qunit-test-"+this.module+"-"+this.testName));0===f&&W(g,"qunit-collapsed");j=k.createElement("strong");j.innerHTML=this.nameHtml+" <b class='counts'>(<b class='failed'>"+f+"</b>, <b class='passed'>"+b+"</b>, "+l+")</b>";B(j,"click",function(){var a=j.parentNode.lastChild;(-1<(" "+a.className+" ").indexOf(" qunit-collapsed ")?Y:W)(a,"qunit-collapsed")});a=k.createElement("span");a.className="runtime";a.innerHTML=this.runtime+" ms";h=q(this.id);h.className=f?"fail":"pass";h.removeChild(h.firstChild);b=h.firstChild;h.appendChild(j);h.appendChild(b);h.appendChild(a);h.appendChild(g)}else{a=0;for(l=this.assertions.length;a<l;a++)this.assertions[a].result||(f++,d.stats.bad++,d.moduleStats.bad++)}u("testDone",e,{name:this.testName,module:this.module,failed:f,passed:this.assertions.length-f,total:this.assertions.length,duration:this.runtime});e.reset();d.current=void 0},queue:function(){function a(){A(function(){c.setup()});A(function(){c.run()});A(function(){c.teardown()});A(function(){c.finish()})}var c=this;A(function(){c.init()});e.config.reorder&&x.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module+"-"+this.testName)?a():A(a,!0)}};e={module:function(a,c){d.currentModule=a;d.currentModuleTestEnvironment=c;d.modules[a]=!0},asyncTest:function(a,c,b){2===arguments.length&&(b=c,c=null);e.test(a,c,b,!0)},test:function(a,c,b,e){var h;h="<span class='test-name'>"+p(a)+"</span>";2===arguments.length&&(b=c,c=null);d.currentModule&&(h="<span class='module-name'>"+p(d.currentModule)+"</span>: "+h);h=new H({nameHtml:h,testName:a,expected:c,async:e,callback:b,module:d.currentModule,moduleTestEnvironment:d.currentModuleTestEnvironment,stack:w(2)});Q(h)&&h.queue()},expect:function(a){if(1===arguments.length)d.current.expected=a;else return d.current.expected},start:function(a){void 0===d.semaphore?e.begin(function(){setTimeout(function(){e.start(a)})}):(d.semaphore-=a||1,0<d.semaphore||(0>d.semaphore?(d.semaphore=0,e.pushFailure("start()\u306f\u3082\u3046\u3059\u3067\u306b\u547c\u3070\u308c\u3066\u3044\u307e\u3059\u3002(QUnit.config.semaphore was 0 already)",null,w(2))):x.setTimeout?m.setTimeout(function(){0<d.semaphore||(d.timeout&&clearTimeout(d.timeout),d.blocking=!1,J(!0))},13):(d.blocking=!1,J(!0))))},stop:function(a){d.semaphore+=a||1;d.blocking=!0;d.testTimeout&&x.setTimeout&&(clearTimeout(d.timeout),d.timeout=m.setTimeout(function(){e.ok(!1,"Test timed out");d.semaphore=1;e.start()},d.testTimeout))}};n={ok:function(a,c){if(!d.current)throw Error("ok() assertion outside test context, was "+w(2));a=!!a;var b,j={module:d.current.module,name:d.current.testName,result:a,message:c};c=p(c||(a?"okay":"failed"));c="<span class='test-message'>"+c+"</span>";if(!a&&(b=w(2)))j.source=b,c+="<table><tr class='test-source'><th>\u30bd\u30fc\u30b9: </th><td><pre>"+p(b)+"</pre></td></tr></table>";u("log",e,j);d.current.assertions.push({result:a,message:c})},equal:function(a,c,b){e.push(c==a,a,c,b)},notEqual:function(a,c,b){e.push(c!=a,a,c,b)},propEqual:function(a,c,b){a=D(a);c=D(c);e.push(e.equiv(a,c),a,c,b)},notPropEqual:function(a,c,b){a=D(a);c=D(c);e.push(!e.equiv(a,c),a,c,b)},deepEqual:function(a,c,b){e.push(e.equiv(a,c),a,c,b)},notDeepEqual:function(a,c,b){e.push(!e.equiv(a,c),a,c,b)},strictEqual:function(a,c,b){e.push(c===a,a,c,b)},notStrictEqual:function(a,c,b){e.push(c!==a,a,c,b)},"throws":function(a,c,b){var j,h=c,g=!1;"string"===typeof c&&(b=c,c=null);d.current.ignoreGlobalErrors=!0;try{a.call(d.current.testEnvironment)}catch(f){j=f}d.current.ignoreGlobalErrors=!1;j?(c?"regexp"===e.objectType(c)?g=c.test(j):j instanceof c?g=!0:!0===c.call({},j)&&(h=null,g=!0):(g=!0,h=null),e.push(g,j,h,b)):e.pushFailure(b,null,"No exception was thrown.")}};s(e,n);e.raises=n["throws"];e.equals=function(){e.push(!1,!1,!1,"QUnit.equals \u306f 2009\u5e74\u304b\u3089\u975e\u63a8\u5968\u3068\u306a\u308a\u307e\u3057\u305f\u3002 (e88049a0), \u4ee3\u308f\u308a\u306bQUnit.equal\u3092\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044")};e.same=function(){e.push(!1,!1,!1,"QUnit.same\u306f2009\u5e74\u304b\u3089\u975e\u63a8\u5968\u3068\u306a\u308a\u307e\u3057\u305f\u3002 (e88049a0), \u4ee3\u308f\u308a\u306bQUnit.deepEqual\u3092\u4f7f\u3063\u3066\u304f\u3060\u3055\u3044\u3002")};r=function(){};r.prototype=e;e=new r;e.constructor=r;d={queue:[],blocking:!0,hidepassed:!1,reorder:!0,altertitle:!0,requireExpects:!1,urlConfig:[{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the `window` object. Stored as query-strings."},{id:"notrycatch",label:"try-catch\u3092\u3057\u306a\u3044",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."}],modules:{},begin:[],done:[],log:[],testStart:[],testDone:[],moduleStart:[],moduleDone:[]};"undefined"===typeof exports&&(s(m,e),m.QUnit=e);var C=m.location||{search:"",protocol:"file:"},T=C.search.slice(1).split("&"),aa=T.length,E={},y;if(T[0])for(r=0;r<aa;r++)y=T[r].split("="),y[0]=decodeURIComponent(y[0]),y[1]=y[1]?decodeURIComponent(y[1]):!0,E[y[0]]=y[1];e.urlParams=E;d.filter=E.filter;d.module=E.module;d.testNumber=parseInt(E.testNumber,10)||null;e.isLocal="file:"===C.protocol;s(e,{assert:n,config:d,init:function(){s(d,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new t,updateRate:1E3,blocking:!1,autostart:!0,autorun:!1,filter:"",queue:[],semaphore:1});var a=q("qunit"),c,b;a.innerHTML||(a.innerHTML="<h1 id='qunit-header'>"+p(k.title)+"</h1><h2 id='qunit-banner'></h2><div id='qunit-testrunner-toolbar'></div><h2 id='qunit-userAgent'></h2><ol id='qunit-tests'></ol>");a=q("qunit-tests");c=q("qunit-banner");b=q("qunit-testresult");a&&(a.innerHTML="");c&&(c.className="");b&&b.parentNode.removeChild(b);a&&(b=k.createElement("p"),b.id="qunit-testresult",b.className="result",a.parentNode.insertBefore(b,a),b.innerHTML="\u5b9f\u884c\u4e2d...<br/>\u00a0")},reset:function(){var a=q("qunit-fixture");a&&(a.innerHTML=d.fixture)},triggerEvent:function(a,c,b){k.createEvent?(b=k.createEvent("MouseEvents"),b.initMouseEvent(c,!0,!0,a.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(b)):a.fireEvent&&a.fireEvent("on"+c)},is:function(a,c){return e.objectType(c)===a},objectType:function(a){if("undefined"===typeof a)return"undefined";if(null===a)return"null";var c=X.call(a).match(/^\[object\s(.*)\]$/),c=c&&c[1]||"";switch(c){case "Number":return isNaN(a)?"nan":"number";case "String":case "Boolean":case "Array":case "Date":case "RegExp":case "Function":return c.toLowerCase()}if("object"===typeof a)return"object"},push:function(a,c,b,j){if(!d.current)throw Error("assertion outside test context, was "+w());var h={module:d.current.module,name:d.current.testName,result:a,message:j,actual:c,expected:b};j=p(j)||(a?"okay":"failed");j="<span class='test-message'>"+j+"</span>";if(!a){b=p(e.jsDump.parse(b));c=p(e.jsDump.parse(c));j+="<table><tr class='test-expected'><th>\u4e88\u60f3: </th><td><pre>"+L(b)+"</pre></td></tr>";c!==b&&(j=j+("<tr class='test-actual'><th>\u7d50\u679c: </th><td><pre>"+L(c)+"</pre></td></tr>")+("<tr class='test-diff'><th>\u9055\u3044: </th><td><pre>"+e.diff(b,c)+"</pre></td></tr>"));if(c=w())h.source=c,j+="<tr class='test-source'><th>\u30bd\u30fc\u30b9: </th><td><pre>"+p(c)+"</pre></td></tr>";j+="</table>"}u("log",e,h);d.current.assertions.push({result:!!a,message:j})},pushFailure:function(a,c,b){if(!d.current)throw Error("pushFailure() assertion outside test context, was "+w(2));var j={module:d.current.module,name:d.current.testName,result:!1,message:a};a=p(a)||"error";a="<span class='test-message'>"+a+"</span><table>";b&&(a+="<tr class='test-actual'><th>\u7d50\u679c: </th><td><pre>"+p(b)+"</pre></td></tr>");c&&(j.source=c,a+="<tr class='test-source'><th>\u30bd\u30fc\u30b9: </th><td><pre>"+p(c)+"</pre></td></tr>");a+="</table>";u("log",e,j);d.current.assertions.push({result:!1,message:a})},url:function(a){a=s(s({},e.urlParams),a);var c,b="?";for(c in a)K.call(a,c)&&(b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c])+"&");return m.location.pathname+b.slice(0,-1)},extend:s,id:q,addEvent:B});s(e.constructor.prototype,{begin:z("begin"),done:z("done"),log:z("log"),testStart:z("testStart"),testDone:z("testDone"),moduleStart:z("moduleStart"),moduleDone:z("moduleDone")});if("undefined"===typeof k||"complete"===k.readyState)d.autorun=!0;e.load=function(){u("begin",e,{});var a,c,b,j,h,g,f;j=0;var l="";g="";a=s({},d);e.init();s(d,a);d.blocking=!1;b=d.urlConfig.length;for(a=0;a<b;a++)h=d.urlConfig[a],"string"===typeof h&&(h={id:h,label:h,tooltip:"[no tooltip available]"}),d[h.id]=e.urlParams[h.id],g+="<input id='qunit-urlconfig-"+p(h.id)+"' name='"+p(h.id)+"' type='checkbox'"+(d[h.id]?" checked='checked'":"")+" title='"+p(h.tooltip)+"'><label for='qunit-urlconfig-"+p(h.id)+"' title='"+p(h.tooltip)+"'>"+h.label+"</label>";l+="<label for='qunit-modulefilter'>Module: </label><select id='qunit-modulefilter' name='modulefilter'><option value='' "+(void 0===d.module?"selected='selected'":"")+">< All Modules ></option>";for(a in d.modules)d.modules.hasOwnProperty(a)&&(j+=1,l+="<option value='"+p(encodeURIComponent(a))+"' "+(d.module===a?"selected='selected'":"")+">"+p(a)+"</option>");l+="</select>";if(a=q("qunit-userAgent"))a.innerHTML=navigator.userAgent+"<br>"+Z();if(a=q("qunit-header"))a.innerHTML="<a href='"+e.url({filter:void 0,module:void 0,testNumber:void 0})+"'>"+a.innerHTML+"</a> ";if(a=q("qunit-testrunner-toolbar")){c=k.createElement("input");c.type="checkbox";c.id="qunit-filter-pass";B(c,"click",function(){var a,b=k.getElementById("qunit-tests");c.checked?b.className+=" hidepass":(a=" "+b.className.replace(/[\n\t\r]/g," ")+" ",b.className=a.replace(/ hidepass /," "));x.sessionStorage&&(c.checked?sessionStorage.setItem("qunit-filter-passed-tests","true"):sessionStorage.removeItem("qunit-filter-passed-tests"))});if(d.hidepassed||x.sessionStorage&&sessionStorage.getItem("qunit-filter-passed-tests"))c.checked=!0,b=k.getElementById("qunit-tests"),b.className+=" hidepass";a.appendChild(c);b=k.createElement("label");b.setAttribute("for","qunit-filter-pass");b.setAttribute("title","Only show tests and assertons that fail. Stored in sessionStorage.");b.innerHTML="\u6210\u529f\u3057\u305f\u30c6\u30b9\u30c8\u3092\u975e\u8868\u793a\u306b\u3059\u308b";a.appendChild(b);b=k.createElement("span");b.innerHTML=g;g=b.getElementsByTagName("input");h=function(a){var b={};a=a.target||a.srcElement;b[a.name]=a.checked?!0:void 0;m.location=e.url(b)};for(var n=g.length;n--;)B(g[n],"click",h);a.appendChild(b);1<j&&(f=k.createElement("span"),f.setAttribute("id","qunit-modulefilter-container"),f.innerHTML=l,B(f.lastChild,"change",function(){var a=f.getElementsByTagName("select")[0],a=decodeURIComponent(a.options[a.selectedIndex].value);m.location=e.url({module:""===a?void 0:a})}),a.appendChild(f))}if(j=q("qunit-fixture"))d.fixture=j.innerHTML;d.autostart&&e.start()};B(m,"load",e.load);S=m.onerror;m.onerror=function(a,c,b){var d=!1;S&&(d=S(a,c,b));if(!0!==d){if(e.config.current){if(e.config.current.ignoreGlobalErrors)return!0;e.pushFailure(a,c+":"+b)}else e.test("global failure",s(function(){e.pushFailure(a,c+":"+b)},{validTest:Q}));return!1}return d};var F,M=[],v=[],N=Object.getPrototypeOf||function(a){return a.__proto__},G;n=function(a,c){return a instanceof c.constructor||c instanceof a.constructor?c==a:c===a};G={string:n,"boolean":n,number:n,"null":n,undefined:n,nan:function(a){return isNaN(a)},date:function(a,c){return"date"===e.objectType(a)&&c.valueOf()===a.valueOf()},regexp:function(a,c){return"regexp"===e.objectType(a)&&c.source===a.source&&c.global===a.global&&c.ignoreCase===a.ignoreCase&&c.multiline===a.multiline&&c.sticky===a.sticky},"function":function(){var a=M[M.length-1];return a!==Object&&"undefined"!==typeof a},array:function(a,c){var b,d,h,g;if("array"!==e.objectType(a))return!1;h=c.length;if(h!==a.length)return!1;v.push(c);for(b=0;b<h;b++){g=!1;var f=v.length;for(d=0;d<f;d++)v[d]===c[b]&&(g=!0);if(!g&&!F(c[b],a[b]))return v.pop(),!1}v.pop();return!0},object:function(a,c){var b,d,e,g=!0,f=[],l=[];if(c.constructor!==a.constructor&&!(null===N(c)&&N(a)===Object.prototype||null===N(a)&&N(c)===Object.prototype))return!1;M.push(c.constructor);v.push(c);for(b in c){e=!1;var k=v.length;for(d=0;d<k;d++)v[d]===c[b]&&(e=!0);f.push(b);if(!e&&!F(c[b],a[b])){g=!1;break}}M.pop();v.pop();for(b in a)l.push(b);return g&&F(f.sort(),l.sort())}};F=function(){var a=[].slice.apply(arguments);if(2>a.length)a=!0;else{var c;if(a[0]===a[1])c=!0;else if(null===a[0]||null===a[1]||"undefined"===typeof a[0]||"undefined"===typeof a[1]||e.objectType(a[0])!==e.objectType(a[1]))c=!1;else{c=[a[1],a[0]];var b=e.objectType(a[0]);c=b?"function"===e.objectType(G[b])?G[b].apply(G,c):G[b]:void 0}a=c&&arguments.callee.apply(this,a.splice(1,a.length-1))}return a};e.equiv=F;n=function(a){return'"'+a.toString().replace(/"/g,'\\"')+'"'};r=function(a){return a+""};var P=function(a,c,b){var d=O.separator(),e=O.indent(),g=O.indent(1);c.join&&(c=c.join(","+d+g));return!c?a+b:[a,g+c,e+b].join(d)},C=function(a,c){var b=a.length,d=Array(b);for(this.up();b--;)d[b]=this.parse(a[b],void 0,c);this.down();return P("[",d,"]")},ba=/^function (\w+)/,O={parse:function(a,c,b){b=b||[];var d,e=this.parsers[c||this.typeOf(a)];c=typeof e;a:if(d=b,d.indexOf)d=d.indexOf(a);else{for(var g=0,f=d.length;g<f;g++)if(d[g]===a){d=g;break a}d=-1}return-1!==d?"recursion("+(d-b.length)+")":"function"===c?(b.push(a),a=e.call(this,a,b),b.pop(),a):"string"===c?e:this.parsers.error},typeOf:function(a){return null===a?"null":"undefined"===typeof a?"undefined":e.is("regexp",a)?"regexp":e.is("date",a)?"date":e.is("function",a)?"function":void 0!==typeof a.setInterval&&"undefined"!==typeof a.document&&"undefined"===typeof a.nodeType?"window":9===a.nodeType?"document":a.nodeType?"node":"[object Array]"===X.call(a)||"number"===typeof a.length&&"undefined"!==typeof a.item&&(a.length?a.item(0)===a[0]:null===a.item(0)&&"undefined"===typeof a[0])?"array":a.constructor===Error.prototype.constructor?"error":typeof a},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"\u00a0":" "},indent:function(a){if(!this.multiline)return"";var c=this.indentChar;this.HTML&&(c=c.replace(/\t/g,"   ").replace(/ /g,"\u00a0"));return Array(this._depth_+(a||0)).join(c)},up:function(a){this._depth_+=a||1},down:function(a){this._depth_-=a||1},setParser:function(a,c){this.parsers[a]=c},quote:n,literal:r,join:P,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:function(a){return'Error("'+a.message+'")'},unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(a){var c="function",b="name"in a?a.name:(ba.exec(a)||[])[1];b&&(c+=" "+b);c=[c+"( ",e.jsDump.parse(a,"functionArgs"),"){"].join("");return P(c,e.jsDump.parse(a,"functionCode"),"}")},array:C,nodelist:C,arguments:C,object:function(a,c){var b=[],d,h,g,f;e.jsDump.up();d=[];for(h in a)d.push(h);d.sort();var l=d.length;for(f=0;f<l;f++)h=d[f],g=a[h],b.push(e.jsDump.parse(h,"key")+": "+e.jsDump.parse(g,void 0,c));e.jsDump.down();return P("{",b,"}")},node:function(a){var c,b,d,h=a.nodeName.toLowerCase(),g="<"+h,f=a.attributes;if(f){b=0;for(c=f.length;b<c;b++)(d=f[b].nodeValue)&&"inherit"!==d&&(g+=" "+f[b].nodeName+"="+e.jsDump.parse(d,"attribute"))}g+=">";if(3===a.nodeType||4===a.nodeType)g+=a.nodeValue;return g+"</"+h+">"},functionArgs:function(a){var c=a.length;if(!c)return"";for(a=Array(c);c--;)a[c]=String.fromCharCode(97+c);return" "+a.join(", ")+" "},key:n,functionCode:"[code]",attribute:n,string:n,date:n,regexp:r,number:r,"boolean":r},HTML:!1,indentChar:"  ",multiline:!0};e.jsDump=O;e.diff=function(a,c){a=L(a.replace(/\s+$/,""));c=L(c.replace(/\s+$/,""));var b,d,e="",g=""===a?[]:a.split(/\s+/),f=""===c?[]:c.split(/\s+/);d={};var l={},k=f.length;for(b=0;b<k;b++)null==d[f[b]]&&(d[f[b]]={rows:[],o:null}),d[f[b]].rows.push(b),k=g.length;for(b=0;b<k;b++)null==l[g[b]]&&(l[g[b]]={rows:[],n:null}),l[g[b]].rows.push(b);for(b in d)K.call(d,b)&&1===d[b].rows.length&&void 0!==l[b]&&1===l[b].rows.length&&(f[d[b].rows[0]]={text:f[d[b].rows[0]],row:l[b].rows[0]},g[l[b].rows[0]]={text:g[l[b].rows[0]],row:d[b].rows[0]});k=f.length;for(b=0;b<k-1;b++)null!=f[b].text&&null==f[b+1].text&&f[b].row+1<g.length&&null==g[f[b].row+1].text&&f[b+1]==g[f[b].row+1]&&(f[b+1]={text:f[b+1],row:f[b].row+1},g[f[b].row+1]={text:g[f[b].row+1],row:b+1});for(b=f.length-1;0<b;b--)null!=f[b].text&&null==f[b-1].text&&0<f[b].row&&null==g[f[b].row-1].text&&f[b-1]==g[f[b].row-1]&&(f[b-1]={text:f[b-1],row:f[b].row-1},g[f[b].row-1]={text:g[f[b].row-1],row:b-1});var l=a.match(/\s+/g),m=c.match(/\s+/g);null==l?l=[" "]:l.push(" ");null==m?m=[" "]:m.push(" ");k=g.length;if(0===f.length)for(b=0;b<k;b++)e+="<del>"+g[b]+l[b]+"</del>";else{if(null==f[0].text)for(c=0;c<k&&null==g[c].text;c++)e+="<del>"+g[c]+l[c]+"</del>";b=0;for(var n=f.length;b<n;b++)if(null==f[b].text)e+="<ins>"+f[b]+m[b]+"</ins>";else{d="";for(c=f[b].row+1;c<k&&null==g[c].text;c++)d+="<del>"+g[c]+l[c]+"</del>";e+=" "+f[b].text+m[b]+d}}return e};"undefined"!==typeof exports&&s(exports,e)})(this);