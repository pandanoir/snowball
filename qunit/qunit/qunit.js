/**
 * QUnit v1.10.0pre - A JavaScript Unit Testing Framework
 *
 * http://qunitjs.com
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(m){function E(a){p(this,a);this.assertions=[];this.testNumber=++E.count}function M(a){var c=d.filter&&d.filter.toLowerCase(),b=d.module&&d.module.toLowerCase(),j=(a.module+": "+a.testName).toLowerCase();if(a.callback&&a.callback.validTest===M)return delete a.callback.validTest,!0;if(d.testNumber)return a.testNumber===d.testNumber;if(b&&(!a.module||a.module.toLowerCase()!==b))return!1;if(!c)return!0;(a="!"!==c.charAt(0))||(c=c.slice(1));return-1!==j.indexOf(c)?a:!a}function F(a,c){c=void 0===c?3:c;var b,d,e;if(a.stacktrace)return a.stacktrace.split("\n")[c+3];if(a.stack){b=a.stack.split("\n");/^error$/i.test(b[0])&&b.shift();if(Q){d=[];for(e=c;e<b.length&&-1==b[e].indexOf(Q);e++)d.push(b[e]);if(d.length)return d.join("\n")}return b[c]}if(a.sourceURL&&!/qunit.js$/.test(a.sourceURL))return a.sourceURL+":"+a.line}function w(a){try{throw Error();}catch(c){return F(c,a)}}function q(a){return!a?"":(a+"").replace(/[\&<>]/g,function(a){switch(a){case "&":return"&amp;";case "<":return"&lt;";case ">":return"&gt;";default:return a}})}function z(a,c){d.queue.push(a);d.autorun&&!d.blocking&&G(c)}function G(a){function c(){G(a)}var b=(new H).getTime();for(d.depth=d.depth?d.depth+1:1;d.queue.length&&!d.blocking;)if(!u.setTimeout||0>=d.updateRate||(new H).getTime()-b<d.updateRate)d.queue.shift()();else{m.setTimeout(c,13);break}d.depth--;if(a&&!d.blocking&&!d.queue.length&&0===d.depth){d.autorun=!0;d.currentModule&&r("moduleDone",e,{name:d.currentModule,failed:d.moduleStats.bad,passed:d.moduleStats.all-d.moduleStats.bad,total:d.moduleStats.all});var j,g;j=n("qunit-banner");g=n("qunit-tests");var b=+new H-d.started,h=d.stats.all-d.stats.bad,f=["Tests completed in ",b," milliseconds.<br/><span class='passed'>",h,"</span> tests of <span class='total'>",d.stats.all,"</span> passed, <span class='failed'>",d.stats.bad,"</span> failed."].join("");j&&(j.className=d.stats.bad?"qunit-fail":"qunit-pass");g&&(n("qunit-testresult").innerHTML=f);d.altertitle&&("undefined"!==typeof document&&document.title)&&(document.title=[d.stats.bad?"\u2716":"\u2714",document.title.replace(/^[\u2714\u2716] /i,"")].join(" "));if(d.reorder&&u.sessionStorage&&0===d.stats.bad)for(j=0;j<sessionStorage.length;j++)g=sessionStorage.key(j++),0===g.indexOf("qunit-test-")&&sessionStorage.removeItem(g);m.scrollTo&&m.scrollTo(0,0);r("done",e,{failed:d.stats.bad,passed:h,total:d.stats.all,runtime:b})}}function N(){d.pollution=[];if(d.noglobals)for(var a in m)O.call(m,a)&&!/^qunit-test-output/.test(a)&&d.pollution.push(a)}function R(a,c){var b,d,e=a.slice();for(b=0;b<e.length;b++)for(d=0;d<c.length;d++)if(e[b]===c[d]){e.splice(b,1);b--;break}return e}function p(a,c){for(var b in c)if(void 0===c[b])delete a[b];else if("constructor"!==b||a!==m)a[b]=c[b];return a}function A(a,c,b){a.addEventListener?a.addEventListener(c,b,!1):a.attachEvent?a.attachEvent("on"+c,b):b()}function n(a){return!!("undefined"!==typeof document&&document&&document.getElementById)&&document.getElementById(a)}function x(a){return function(c){d[a].push(c)}}function r(a,c,b){var j;if(e.hasOwnProperty(a))e[a].call(c,b);else{j=d[a];for(a=0;a<j.length;a++)j[a].call(c,b)}}var e,d,P,T=0,Q=(w(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,""),S=Object.prototype.toString,O=Object.prototype.hasOwnProperty,H=m.Date,k="undefined"!==typeof m.setTimeout,s;try{sessionStorage.setItem("qunit-test-string","qunit-test-string"),sessionStorage.removeItem("qunit-test-string"),s=!0}catch(W){s=!1}var u={setTimeout:k,sessionStorage:s};E.count=0;E.prototype={init:function(){var a,c,b,d=n("qunit-tests");d&&(c=document.createElement("strong"),c.innerHTML=this.name,a=document.createElement("a"),a.innerHTML="Rerun",a.href=e.url({testNumber:this.testNumber}),b=document.createElement("li"),b.appendChild(c),b.appendChild(a),b.className="running",b.id=this.id="qunit-test-output"+T++,d.appendChild(b))},setup:function(){this.module!==d.previousModule?(d.previousModule&&r("moduleDone",e,{name:d.previousModule,failed:d.moduleStats.bad,passed:d.moduleStats.all-d.moduleStats.bad,total:d.moduleStats.all}),d.previousModule=this.module,d.moduleStats={all:0,bad:0},r("moduleStart",e,{name:this.module})):d.autorun&&r("moduleStart",e,{name:this.module});d.current=this;this.testEnvironment=p({setup:function(){},teardown:function(){}},this.moduleTestEnvironment);r("testStart",e,{name:this.testName,module:this.module});e.current_testEnvironment=this.testEnvironment;d.pollution||N();if(d.notrycatch)this.testEnvironment.setup.call(this.testEnvironment);else try{this.testEnvironment.setup.call(this.testEnvironment)}catch(a){e.pushFailure("Setup failed on "+this.testName+": "+a.message,F(a,1))}},run:function(){d.current=this;var a=n("qunit-testresult");a&&(a.innerHTML="Running: <br/>"+this.name);this.async&&e.stop();if(d.notrycatch)this.callback.call(this.testEnvironment,e.assert);else try{this.callback.call(this.testEnvironment,e.assert)}catch(c){e.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+c.message,F(c,0)),N(),d.blocking&&e.start()}},teardown:function(){d.current=this;if(d.notrycatch)this.testEnvironment.teardown.call(this.testEnvironment);else{try{this.testEnvironment.teardown.call(this.testEnvironment)}catch(a){e.pushFailure("Teardown failed on "+this.testName+": "+a.message,F(a,1))}var c,b=d.pollution;N();c=R(d.pollution,b);0<c.length&&e.pushFailure("Introduced global variable(s): "+c.join(", "));c=R(b,d.pollution);0<c.length&&e.pushFailure("Deleted global variable(s): "+c.join(", "))}},finish:function(){d.current=this;d.requireExpects&&null==this.expected?e.pushFailure("Expected number of assertions to be defined, but expect() was not called.",this.stack):null!=this.expected&&this.expected!=this.assertions.length?e.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack):null==this.expected&&!this.assertions.length&&e.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",this.stack);var a,c,b,j,g,h,f=c=0;g=n("qunit-tests");d.stats.all+=this.assertions.length;d.moduleStats.all+=this.assertions.length;if(g){h=document.createElement("ol");for(j=0;j<this.assertions.length;j++)a=this.assertions[j],g=document.createElement("li"),g.className=a.result?"pass":"fail",g.innerHTML=a.message||(a.result?"okay":"failed"),h.appendChild(g),a.result?c++:(f++,d.stats.bad++,d.moduleStats.bad++);e.config.reorder&&u.sessionStorage&&(f?sessionStorage.setItem("qunit-test-"+this.module+"-"+this.testName,f):sessionStorage.removeItem("qunit-test-"+this.module+"-"+this.testName));0===f&&(h.style.display="none");b=document.createElement("strong");b.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+f+"</b>, <b class='passed'>"+c+"</b>, "+this.assertions.length+")</b>";A(b,"click",function(){var a=b.nextSibling.nextSibling;a.style.display="none"===a.style.display?"block":"none"});g=n(this.id);g.className=f?"fail":"pass";g.removeChild(g.firstChild);c=g.firstChild;g.appendChild(b);g.appendChild(c);g.appendChild(h)}else for(j=0;j<this.assertions.length;j++)this.assertions[j].result||(f++,d.stats.bad++,d.moduleStats.bad++);r("testDone",e,{name:this.testName,module:this.module,failed:f,passed:this.assertions.length-f,total:this.assertions.length});e.reset();d.current=void 0},queue:function(){function a(){z(function(){c.setup()});z(function(){c.run()});z(function(){c.teardown()});z(function(){c.finish()})}var c=this;z(function(){c.init()});e.config.reorder&&u.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module+"-"+this.testName)?a():z(a,!0)}};e={module:function(a,c){d.currentModule=a;d.currentModuleTestEnviroment=c;d.modules[a]=!0},asyncTest:function(a,c,b){2===arguments.length&&(b=c,c=null);e.test(a,c,b,!0)},test:function(a,c,b,e){var g;g="<span class='test-name'>"+q(a)+"</span>";2===arguments.length&&(b=c,c=null);d.currentModule&&(g="<span class='module-name'>"+d.currentModule+"</span>: "+g);g=new E({name:g,testName:a,expected:c,async:e,callback:b,module:d.currentModule,moduleTestEnvironment:d.currentModuleTestEnviroment,stack:w(2)});M(g)&&g.queue()},expect:function(a){if(1===arguments.length)d.current.expected=a;else return d.current.expected},start:function(a){d.semaphore-=a||1;0<d.semaphore||(0>d.semaphore&&(d.semaphore=0),u.setTimeout?m.setTimeout(function(){0<d.semaphore||(d.timeout&&clearTimeout(d.timeout),d.blocking=!1,G(!0))},13):(d.blocking=!1,G(!0)))},stop:function(a){d.semaphore+=a||1;d.blocking=!0;d.testTimeout&&u.setTimeout&&(clearTimeout(d.timeout),d.timeout=m.setTimeout(function(){e.ok(!1,"Test timed out");d.semaphore=1;e.start()},d.testTimeout))},assert:{ok:function(a,c){if(!d.current)throw Error("ok() assertion outside test context, was "+w(2));a=!!a;var b,j={module:d.current.module,name:d.current.testName,result:a,message:c};c=q(c||(a?"okay":"failed"));c="<span class='test-message'>"+c+"</span>";if(!a&&(b=w(2)))j.source=b,c+="<table><tr class='test-source'><th>Source: </th><td><pre>"+q(b)+"</pre></td></tr></table>";r("log",e,j);d.current.assertions.push({result:a,message:c})},equal:function(a,c,b){e.push(c==a,a,c,b)},notEqual:function(a,c,b){e.push(c!=a,a,c,b)},deepEqual:function(a,c,b){e.push(e.equiv(a,c),a,c,b)},notDeepEqual:function(a,c,b){e.push(!e.equiv(a,c),a,c,b)},strictEqual:function(a,c,b){e.push(c===a,a,c,b)},notStrictEqual:function(a,c,b){e.push(c!==a,a,c,b)},throws:function(a,c,b){var j,g=!1;"string"===typeof c&&(b=c,c=null);d.current.ignoreGlobalErrors=!0;try{a.call(d.current.testEnvironment)}catch(h){j=h}d.current.ignoreGlobalErrors=!1;j?(c?"regexp"===e.objectType(c)?g=c.test(j):j instanceof c?g=!0:!0===c.call({},j)&&(g=!0):g=!0,e.push(g,j,null,b)):e.pushFailure(b,null,"No exception was thrown.")}}};p(e,e.assert);e.raises=e.assert.throws;e.equals=function(){e.push(!1,!1,!1,"QUnit.equals has been deprecated since 2009 (e88049a0), use QUnit.equal instead")};e.same=function(){e.push(!1,!1,!1,"QUnit.same has been deprecated since 2009 (e88049a0), use QUnit.deepEqual instead")};k=function(){};k.prototype=e;e=new k;e.constructor=k;d={queue:[],blocking:!0,hidepassed:!1,reorder:!0,altertitle:!0,requireExpects:!1,urlConfig:[{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the `window` object. Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."}],modules:{},begin:[],done:[],log:[],testStart:[],testDone:[],moduleStart:[],moduleDone:[]};s=m.location||{search:"",protocol:"file:"};var y=s.search.slice(1).split("&"),U=y.length,B={},v;if(y[0])for(k=0;k<U;k++)v=y[k].split("="),v[0]=decodeURIComponent(v[0]),v[1]=v[1]?decodeURIComponent(v[1]):!0,B[v[0]]=v[1];e.urlParams=B;d.filter=B.filter;d.module=B.module;d.testNumber=parseInt(B.testNumber,10)||null;e.isLocal="file:"===s.protocol;"undefined"===typeof exports&&(p(m,e),m.QUnit=e);p(e,{config:d,init:function(){p(d,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new H,updateRate:1E3,blocking:!1,autostart:!0,autorun:!1,filter:"",queue:[],semaphore:0});var a,c,b;if(a=n("qunit"))a.innerHTML="<h1 id='qunit-header'>"+q(document.title)+"</h1><h2 id='qunit-banner'></h2><div id='qunit-testrunner-toolbar'></div><h2 id='qunit-userAgent'></h2><ol id='qunit-tests'></ol>";a=n("qunit-tests");c=n("qunit-banner");b=n("qunit-testresult");a&&(a.innerHTML="");c&&(c.className="");b&&b.parentNode.removeChild(b);a&&(b=document.createElement("p"),b.id="qunit-testresult",b.className="result",a.parentNode.insertBefore(b,a),b.innerHTML="Running...<br/>&nbsp;")},reset:function(){var a=n("qunit-fixture");a&&(a.innerHTML=d.fixture)},triggerEvent:function(a,c,b){document.createEvent?(b=document.createEvent("MouseEvents"),b.initMouseEvent(c,!0,!0,a.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(b)):a.fireEvent&&a.fireEvent("on"+c)},is:function(a,c){return e.objectType(c)==a},objectType:function(a){if("undefined"===typeof a)return"undefined";if(null===a)return"null";var c=S.call(a).match(/^\[object\s(.*)\]$/)[1]||"";switch(c){case "Number":return isNaN(a)?"nan":"number";case "String":case "Boolean":case "Array":case "Date":case "RegExp":case "Function":return c.toLowerCase()}if("object"===typeof a)return"object"},push:function(a,c,b,j){if(!d.current)throw Error("assertion outside test context, was "+w());var g={module:d.current.module,name:d.current.testName,result:a,message:j,actual:c,expected:b};j=q(j)||(a?"okay":"failed");j="<span class='test-message'>"+j+"</span>";if(!a){b=q(e.jsDump.parse(b));c=q(e.jsDump.parse(c));j+="<table><tr class='test-expected'><th>\u4e88\u60f3: </th><td><pre>"+b+"</pre></td></tr>";c!=b&&(j=j+("<tr class='test-actual'><th>\u7d50\u679c: </th><td><pre>"+c+"</pre></td></tr>")+("<tr class='test-diff'><th>\u9055\u3044: </th><td><pre>"+e.diff(b,c)+"</pre></td></tr>"));if(c=w())g.source=c,j+="<tr class='test-source'><th>\u30bd\u30fc\u30b9: </th><td><pre>"+q(c)+"</pre></td></tr>";j+="</table>"}r("log",e,g);d.current.assertions.push({result:!!a,message:j})},pushFailure:function(a,c,b){if(!d.current)throw Error("pushFailure() assertion outside test context, was "+w(2));var j={module:d.current.module,name:d.current.testName,result:!1,message:a};a=q(a)||"error";a="<span class='test-message'>"+a+"</span>";a+="<table>";b&&(a+="<tr class='test-actual'><th>Result: </th><td><pre>"+q(b)+"</pre></td></tr>");c&&(j.source=c,a+="<tr class='test-source'><th>Source: </th><td><pre>"+q(c)+"</pre></td></tr>");a+="</table>";r("log",e,j);d.current.assertions.push({result:!1,message:a})},url:function(a){a=p(p({},e.urlParams),a);var c,b="?";for(c in a)O.call(a,c)&&(b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c])+"&");return m.location.pathname+b.slice(0,-1)},extend:p,id:n,addEvent:A});p(e.constructor.prototype,{begin:x("begin"),done:x("done"),log:x("log"),testStart:x("testStart"),testDone:x("testDone"),moduleStart:x("moduleStart"),moduleDone:x("moduleDone")});if("undefined"===typeof document||"complete"===document.readyState)d.autorun=!0;e.load=function(){r("begin",e,{});var a,c,b,j,g,h;j=0;var f="",l="";a=p({},d);e.init();p(d,a);d.blocking=!1;b=d.urlConfig.length;for(a=0;a<b;a++)g=d.urlConfig[a],"string"===typeof g&&(g={id:g,label:g,tooltip:"[no tooltip available]"}),d[g.id]=e.urlParams[g.id],l+="<input id='qunit-urlconfig-"+g.id+"' name='"+g.id+"' type='checkbox'"+(d[g.id]?" checked='checked'":"")+" title='"+g.tooltip+"'><label for='qunit-urlconfig-"+g.id+"' title='"+g.tooltip+"'>"+g.label+"</label>";f+="<label for='qunit-modulefilter'>Module: </label><select id='qunit-modulefilter' name='modulefilter'><option value='' "+(void 0===d.module?"selected":"")+">< All Modules ></option>";for(a in d.modules)d.modules.hasOwnProperty(a)&&(j+=1,f+="<option value='"+encodeURIComponent(a)+"' "+(d.module===a?"selected":"")+">"+a+"</option>");f+="</select>";if(a=n("qunit-userAgent"))a.innerHTML=navigator.userAgent;if(a=n("qunit-header"))a.innerHTML="<a href='"+e.url({filter:void 0,module:void 0,testNumber:void 0})+"'>"+a.innerHTML+"</a> ";if(a=n("qunit-testrunner-toolbar")){c=document.createElement("input");c.type="checkbox";c.id="qunit-filter-pass";A(c,"click",function(){var a,b=document.getElementById("qunit-tests");c.checked?b.className+=" hidepass":(a=" "+b.className.replace(/[\n\t\r]/g," ")+" ",b.className=a.replace(/ hidepass /," "));u.sessionStorage&&(c.checked?sessionStorage.setItem("qunit-filter-passed-tests","true"):sessionStorage.removeItem("qunit-filter-passed-tests"))});if(d.hidepassed||u.sessionStorage&&sessionStorage.getItem("qunit-filter-passed-tests"))c.checked=!0,b=document.getElementById("qunit-tests"),b.className+=" hidepass";a.appendChild(c);b=document.createElement("label");b.setAttribute("for","qunit-filter-pass");b.setAttribute("title","Only show tests and assertons that fail. Stored in sessionStorage.");b.innerHTML="Hide passed tests";a.appendChild(b);b=document.createElement("span");b.innerHTML=l;A(b,"change",function(a){var b={};b[a.target.name]=a.target.checked?!0:void 0;m.location=e.url(b)});a.appendChild(b);1<j&&(h=document.createElement("span"),h.setAttribute("id","qunit-modulefilter-container"),h.innerHTML=f,A(h,"change",function(){var a=h.getElementsByTagName("select")[0],a=decodeURIComponent(a.options[a.selectedIndex].value);m.location=e.url({module:""===a?void 0:a})}),a.appendChild(h))}if(j=n("qunit-fixture"))d.fixture=j.innerHTML;d.autostart&&e.start()};A(m,"load",e.load);P=m.onerror;m.onerror=function(a,c,b){var d=!1;P&&(d=P(a,c,b));if(!0!==d){if(e.config.current){if(e.config.current.ignoreGlobalErrors)return!0;e.pushFailure(a,c+":"+b)}else e.test("global failure",p(function(){e.pushFailure(a,c+":"+b)},{validTest:M}));return!1}return d};var C,I=[],t=[],J=Object.getPrototypeOf||function(a){return a.__proto__},D,k=function(a,c){return a instanceof c.constructor||c instanceof a.constructor?c==a:c===a};D={string:k,"boolean":k,number:k,"null":k,undefined:k,nan:function(a){return isNaN(a)},date:function(a,c){return"date"===e.objectType(a)&&c.valueOf()===a.valueOf()},regexp:function(a,c){return"regexp"===e.objectType(a)&&c.source===a.source&&c.global===a.global&&c.ignoreCase===a.ignoreCase&&c.multiline===a.multiline&&c.sticky===a.sticky},"function":function(){var a=I[I.length-1];return a!==Object&&"undefined"!==typeof a},array:function(a,c){var b,d,g,h;if("array"!==e.objectType(a))return!1;g=c.length;if(g!==a.length)return!1;t.push(c);for(b=0;b<g;b++){h=!1;for(d=0;d<t.length;d++)t[d]===c[b]&&(h=!0);if(!h&&!C(c[b],a[b]))return t.pop(),!1}t.pop();return!0},object:function(a,c){var b,d,e,h=!0,f=[],l=[];if(c.constructor!==a.constructor&&!(null===J(c)&&J(a)===Object.prototype||null===J(a)&&J(c)===Object.prototype))return!1;I.push(c.constructor);t.push(c);for(b in c){e=!1;for(d=0;d<t.length;d++)t[d]===c[b]&&(e=!0);f.push(b);if(!e&&!C(c[b],a[b])){h=!1;break}}I.pop();t.pop();for(b in a)l.push(b);return h&&C(f.sort(),l.sort())}};C=function(){var a=[].slice.apply(arguments);if(2>a.length)a=!0;else{var c;if(a[0]===a[1])c=!0;else if(null===a[0]||null===a[1]||"undefined"===typeof a[0]||"undefined"===typeof a[1]||e.objectType(a[0])!==e.objectType(a[1]))c=!1;else{c=[a[1],a[0]];var b=e.objectType(a[0]);c=b?"function"===e.objectType(D[b])?D[b].apply(D,c):D[b]:void 0}a=c&&arguments.callee.apply(this,a.splice(1,a.length-1))}return a};e.equiv=C;k=function(a){return'"'+a.toString().replace(/"/g,'\\"')+'"'};s=function(a){return a+""};var L=function(a,c,b){var d=K.separator(),e=K.indent(),h=K.indent(1);c.join&&(c=c.join(","+d+h));return!c?a+b:[a,h+c,e+b].join(d)},y=function(a,c){var b=a.length,d=Array(b);for(this.up();b--;)d[b]=this.parse(a[b],void 0,c);this.down();return L("[",d,"]")},V=/^function (\w+)/,K={parse:function(a,c,b){b=b||[];var d,e=this.parsers[c||this.typeOf(a)];c=typeof e;a:if(d=b,d.indexOf)d=d.indexOf(a);else{for(var h=0,f=d.length;h<f;h++)if(d[h]===a){d=h;break a}d=-1}return-1!=d?"recursion("+(d-b.length)+")":"function"==c?(b.push(a),a=e.call(this,a,b),b.pop(),a):"string"==c?e:this.parsers.error},typeOf:function(a){return null===a?"null":"undefined"===typeof a?"undefined":e.is("regexp",a)?"regexp":e.is("date",a)?"date":e.is("function",a)?"function":void 0!==typeof a.setInterval&&"undefined"!==typeof a.document&&"undefined"===typeof a.nodeType?"window":9===a.nodeType?"document":a.nodeType?"node":"[object Array]"===S.call(a)||"number"===typeof a.length&&"undefined"!==typeof a.item&&(a.length?a.item(0)===a[0]:null===a.item(0)&&"undefined"===typeof a[0])?"array":typeof a},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(a){if(!this.multiline)return"";var c=this.indentChar;this.HTML&&(c=c.replace(/\t/g,"   ").replace(/ /g,"&nbsp;"));return Array(this._depth_+(a||0)).join(c)},up:function(a){this._depth_+=a||1},down:function(a){this._depth_-=a||1},setParser:function(a,c){this.parsers[a]=c},quote:k,literal:s,join:L,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(a){var c="function",b="name"in a?a.name:(V.exec(a)||[])[1];b&&(c+=" "+b);c=[c+"( ",e.jsDump.parse(a,"functionArgs"),"){"].join("");return L(c,e.jsDump.parse(a,"functionCode"),"}")},array:y,nodelist:y,arguments:y,object:function(a,c){var b=[],d,g,h,f;e.jsDump.up();if(Object.keys)d=Object.keys(a);else for(g in d=[],a)d.push(g);d.sort();for(f=0;f<d.length;f++)g=d[f],h=a[g],b.push(e.jsDump.parse(g,"key")+": "+e.jsDump.parse(h,void 0,c));e.jsDump.down();return L("{",b,"}")},node:function(a){var c,b,d=e.jsDump.HTML?"&lt;":"<",g=e.jsDump.HTML?"&gt;":">",h=a.nodeName.toLowerCase(),f=d+h;for(c in e.jsDump.DOMAttrs)(b=a[e.jsDump.DOMAttrs[c]])&&(f+=" "+c+"="+e.jsDump.parse(b,"attribute"));return f+g+d+"/"+h+g},functionArgs:function(a){var c=a.length;if(!c)return"";for(a=Array(c);c--;)a[c]=String.fromCharCode(97+c);return" "+a.join(", ")+" "},key:k,functionCode:"[code]",attribute:k,string:k,date:k,regexp:s,number:s,"boolean":s},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"  ",multiline:!0};e.jsDump=K;e.diff=function(a,c){a=a.replace(/\s+$/,"");c=c.replace(/\s+$/,"");var b,d,e="",h=""===a?[]:a.split(/\s+/),f=""===c?[]:c.split(/\s+/);d={};var l={};for(b=0;b<f.length;b++)null==d[f[b]]&&(d[f[b]]={rows:[],o:null}),d[f[b]].rows.push(b);for(b=0;b<h.length;b++)null==l[h[b]]&&(l[h[b]]={rows:[],n:null}),l[h[b]].rows.push(b);for(b in d)O.call(d,b)&&(1==d[b].rows.length&&"undefined"!=typeof l[b]&&1==l[b].rows.length)&&(f[d[b].rows[0]]={text:f[d[b].rows[0]],row:l[b].rows[0]},h[l[b].rows[0]]={text:h[l[b].rows[0]],row:d[b].rows[0]});for(b=0;b<f.length-1;b++)null!=f[b].text&&(null==f[b+1].text&&f[b].row+1<h.length&&null==h[f[b].row+1].text&&f[b+1]==h[f[b].row+1])&&(f[b+1]={text:f[b+1],row:f[b].row+1},h[f[b].row+1]={text:h[f[b].row+1],row:b+1});for(b=f.length-1;0<b;b--)null!=f[b].text&&(null==f[b-1].text&&0<f[b].row&&null==h[f[b].row-1].text&&f[b-1]==h[f[b].row-1])&&(f[b-1]={text:f[b-1],row:f[b].row-1},h[f[b].row-1]={text:h[f[b].row-1],row:b-1});var l=a.match(/\s+/g),k=c.match(/\s+/g);null==l?l=[" "]:l.push(" ");null==k?k=[" "]:k.push(" ");if(0===f.length)for(b=0;b<h.length;b++)e+="<del>"+h[b]+l[b]+"</del>";else{if(null==f[0].text)for(c=0;c<h.length&&null==h[c].text;c++)e+="<del>"+h[c]+l[c]+"</del>";for(b=0;b<f.length;b++)if(null==f[b].text)e+="<ins>"+f[b]+k[b]+"</ins>";else{d="";for(c=f[b].row+1;c<h.length&&null==h[c].text;c++)d+="<del>"+h[c]+l[c]+"</del>";e+=" "+f[b].text+k[b]+d}}return e};"undefined"!==typeof exports&&p(exports,e)})(function(){return this}.call());