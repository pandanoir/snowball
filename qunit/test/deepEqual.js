(function(a){module("equiv");test("Primitive types and constants",function(){equal(a.equiv(null,null),!0,"null");equal(a.equiv(null,{}),!1,"null");equal(a.equiv(null,void 0),!1,"null");equal(a.equiv(null,0),!1,"null");equal(a.equiv(null,!1),!1,"null");equal(a.equiv(null,""),!1,"null");equal(a.equiv(null,[]),!1,"null");equal(a.equiv(void 0,void 0),!0,"undefined");equal(a.equiv(void 0,null),!1,"undefined");equal(a.equiv(void 0,0),!1,"undefined");equal(a.equiv(void 0,!1),!1,"undefined");equal(a.equiv(void 0,{}),!1,"undefined");equal(a.equiv(void 0,[]),!1,"undefined");equal(a.equiv(void 0,""),!1,"undefined");equal(a.equiv(0/0,0/0),!0,"NaN");equal(a.equiv(1/0,2/0),!0,"Infinity");equal(a.equiv(-1/0,2/0),!1,"-Infinity, Infinity");equal(a.equiv(-1/0,-2/0),!0,"-Infinity, -Infinity");equal(a.equiv(0/0,1/0),!1,"NaN, Infinity");equal(a.equiv(1/0,0/0),!1,"NaN, Infinity");equal(a.equiv(0/0,null),!1,"NaN");equal(a.equiv(0/0,void 0),!1,"NaN");equal(a.equiv(0/0,0),!1,"NaN");equal(a.equiv(0/0,!1),!1,"NaN");equal(a.equiv(0/0,function(){}),!1,"NaN");equal(a.equiv(1/0,null),!1,"NaN, Infinity");equal(a.equiv(1/0,void 0),!1,"NaN, Infinity");equal(a.equiv(1/0,0),!1,"NaN, Infinity");equal(a.equiv(1/0,1),!1,"NaN, Infinity");equal(a.equiv(1/0,!1),!1,"NaN, Infinity");equal(a.equiv(1/0,!0),!1,"NaN, Infinity");equal(a.equiv(1/0,function(){}),!1,"NaN, Infinity");equal(a.equiv(0,0),!0,"number");equal(a.equiv(0,1),!1,"number");equal(a.equiv(1,0),!1,"number");equal(a.equiv(1,1),!0,"number");equal(a.equiv(1.1,1.1),!0,"number");equal(a.equiv(5E-7,5E-7),!0,"number");equal(a.equiv(0,""),!1,"number");equal(a.equiv(0,"0"),!1,"number");equal(a.equiv(1,"1"),!1,"number");equal(a.equiv(0,!1),!1,"number");equal(a.equiv(1,!0),!1,"number");equal(a.equiv(!0,!0),!0,"boolean");equal(a.equiv(!0,!1),!1,"boolean");equal(a.equiv(!1,!0),!1,"boolean");equal(a.equiv(!1,0),!1,"boolean");equal(a.equiv(!1,null),!1,"boolean");equal(a.equiv(!1,void 0),!1,"boolean");equal(a.equiv(!0,1),!1,"boolean");equal(a.equiv(!0,null),!1,"boolean");equal(a.equiv(!0,void 0),!1,"boolean");equal(a.equiv("",""),!0,"string");equal(a.equiv("a","a"),!0,"string");equal(a.equiv("foobar","foobar"),!0,"string");equal(a.equiv("foobar","foo"),!1,"string");equal(a.equiv("",0),!1,"string");equal(a.equiv("",!1),!1,"string");equal(a.equiv("",null),!1,"string");equal(a.equiv("",void 0),!1,"string");var b=Number,c=String,d=Boolean,e=Object;equal(a.equiv(0,new b),!0,"primitives vs. objects");equal(a.equiv(new b,0),!0,"primitives vs. objects");equal(a.equiv(1,new b(1)),!0,"primitives vs. objects");equal(a.equiv(new b(1),1),!0,"primitives vs. objects");equal(a.equiv(new b(0),1),!1,"primitives vs. objects");equal(a.equiv(0,new b(1)),!1,"primitives vs. objects");equal(a.equiv(new c,""),!0,"primitives vs. objects");equal(a.equiv("",new c),!0,"primitives vs. objects");equal(a.equiv(new c("My String"),"My String"),!0,"primitives vs. objects");equal(a.equiv("My String",new c("My String")),!0,"primitives vs. objects");equal(a.equiv("Bad String",new c("My String")),!1,"primitives vs. objects");equal(a.equiv(new c("Bad String"),"My String"),!1,"primitives vs. objects");equal(a.equiv(!1,new d),!0,"primitives vs. objects");equal(a.equiv(new d,!1),!0,"primitives vs. objects");equal(a.equiv(!0,new d(!0)),!0,"primitives vs. objects");equal(a.equiv(new d(!0),!0),!0,"primitives vs. objects");equal(a.equiv(!0,new d(1)),!0,"primitives vs. objects");equal(a.equiv(!1,new d(!1)),!0,"primitives vs. objects");equal(a.equiv(new d(!1),!1),!0,"primitives vs. objects");equal(a.equiv(!1,new d(0)),!0,"primitives vs. objects");equal(a.equiv(!0,new d(!1)),!1,"primitives vs. objects");equal(a.equiv(new d(!1),!0),!1,"primitives vs. objects");equal(a.equiv(new e,{}),!0,"object literal vs. instantiation");equal(a.equiv({},new e),!0,"object literal vs. instantiation");equal(a.equiv(new e,{a:1}),!1,"object literal vs. instantiation");equal(a.equiv({a:1},new e),!1,"object literal vs. instantiation");equal(a.equiv({a:void 0},new e),!1,"object literal vs. instantiation");equal(a.equiv(new e,{a:void 0}),!1,"object literal vs. instantiation")});test("Objects Basics.",function(){equal(a.equiv({},{}),!0);equal(a.equiv({},null),!1);equal(a.equiv({},void 0),!1);equal(a.equiv({},0),!1);equal(a.equiv({},!1),!1);equal(a.equiv({},[]),!1);equal(a.equiv({a:1},{a:1}),!0);equal(a.equiv({a:1},{a:"1"}),!1);equal(a.equiv({a:[]},{a:[]}),!0);equal(a.equiv({a:{}},{a:null}),!1);equal(a.equiv({a:1},{}),!1);equal(a.equiv({},{a:1}),!1);equal(a.equiv({a:void 0},{}),!1);equal(a.equiv({},{a:void 0}),!1);equal(a.equiv({a:[{bar:void 0}]},{a:[{bat:void 0}]}),!1);if("function"===typeof Object.create){equal(a.equiv(Object.create(null),{}),!0,"empty object without prototype VS empty object");var b=Object.create(null);b.foo="bar";equal(a.equiv(b,{foo:"bar"}),!0,"object without prototype VS object")}});test("Arrays Basics.",function(){equal(a.equiv([],[]),!0);equal(a.equiv([],null),!1);equal(a.equiv([],void 0),!1);equal(a.equiv([],!1),!1);equal(a.equiv([],0),!1);equal(a.equiv([],""),!1);equal(a.equiv([],{}),!1);equal(a.equiv([null],[]),!1);equal(a.equiv([void 0],[]),!1);equal(a.equiv([],[null]),!1);equal(a.equiv([],[void 0]),!1);equal(a.equiv([null],[void 0]),!1);equal(a.equiv([[]],[[]]),!0);equal(a.equiv([[],[],[]],[[],[],[]]),!0);equal(a.equiv([[],[],[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]],[[],[],[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]),!0);equal(a.equiv([[],[],[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]],[[],[],[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]),!1);equal(a.equiv([[],[],[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[{}]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]],[[],[],[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[[]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]),!1);equal(a.equiv([1,2,3,4,5,6,7,8,9,[1,2,3,4,5,6,7,8,9,[1,2,3,4,5,[[6,7,8,9,[[1,2,3,4,[2,3,4,[1,2,[1,2,3,4,[1,2,3,4,5,6,7,8,9,[0],1,2,3,4,5,6,7,8,9],5,6,7,8,9],4,5,6,7,8,9],5,6,7,8,9],5,6,7]]]]]]],[1,2,3,4,5,6,7,8,9,[1,2,3,4,5,6,7,8,9,[1,2,3,4,5,[[6,7,8,9,[[1,2,3,4,[2,3,4,[1,2,[1,2,3,4,[1,2,3,4,5,6,7,8,9,[0],1,2,3,4,5,6,7,8,9],5,6,7,8,9],4,5,6,7,8,9],5,6,7,8,9],5,6,7]]]]]]]),!0,"Multidimensional");equal(a.equiv([1,2,3,4,5,6,7,8,9,[1,2,3,4,5,6,7,8,9,[1,2,3,4,5,[[6,7,8,9,[[1,2,3,4,[2,3,4,[1,2,[1,2,3,4,[1,2,3,4,5,6,7,8,9,[0],1,2,3,4,5,6,7,8,9],5,6,7,8,9],4,5,6,7,8,9],5,6,7,8,9],5,6,7]]]]]]],[1,2,3,4,5,6,7,8,9,[1,2,3,4,5,6,7,8,9,[1,2,3,4,5,[[6,7,8,9,[[1,2,3,4,[2,3,4,[1,2,["1",2,3,4,[1,2,3,4,5,6,7,8,9,[0],1,2,3,4,5,6,7,8,9],5,6,7,8,9],4,5,6,7,8,9],5,6,7,8,9],5,6,7]]]]]]]),!1,"Multidimensional");equal(a.equiv([1,2,3,4,5,6,7,8,9,[1,2,3,4,5,6,7,8,9,[1,2,3,4,5,[[6,7,8,9,[[1,2,3,4,[2,3,4,[1,2,[1,2,3,4,[1,2,3,4,5,6,7,8,9,[0],1,2,3,4,5,6,7,8,9],5,6,7,8,9],4,5,6,7,8,9],5,6,7,8,9],5,6,7]]]]]]],[1,2,3,4,5,6,7,8,9,[1,2,3,4,5,6,7,8,9,[1,2,3,4,5,[[6,7,8,9,[[1,2,3,4,[2,3,[1,2,[1,2,3,4,[1,2,3,4,5,6,7,8,9,[0],1,2,3,4,5,6,7,8,9],5,6,7,8,9],4,5,6,7,8,9],5,6,7,8,9],5,6,7]]]]]]]),!1,"Multidimensional")});test("Functions.",function(){var b=function(){},c=function(){},d=function(){};equal(a.equiv(function(){},function(){}),!1,"Anonymous functions");equal(a.equiv(function(){},function(){return!0}),!1,"Anonymous functions");equal(a.equiv(b,b),!0,"Function references");equal(a.equiv(b,c),!1,"Function references");equal(a.equiv(d,function(){}),!1,"Function references");equal(a.equiv(c,d),!1,"Function references");equal(a.equiv(function(){},!0),!1);equal(a.equiv(function(){},void 0),!1);equal(a.equiv(function(){},null),!1);equal(a.equiv(function(){},{}),!1)});test("Date instances.",function(){var b=new Date;b.setTime(0);var c=new Date;c.setTime(0);var d=new Date;equal(a.equiv(b,0),!1);equal(a.equiv(b,c),!0);equal(a.equiv(b,d),!1)});test("RegExp.",function(){var b=/foo/,c=/foo/gim,d=/foo/i,e=/foo/m,h=/foo/g;equal(a.equiv(c,/foo/gmi),!0,"Modifier order");equal(a.equiv(c,/foo/igm),!0,"Modifier order");equal(a.equiv(c,/foo/img),!0,"Modifier order");equal(a.equiv(c,/foo/mig),!0,"Modifier order");equal(a.equiv(c,/foo/mgi),!0,"Modifier order");equal(a.equiv(b,c),!1,"Modifier");equal(a.equiv(d,/foo/i),!0,"Modifier");equal(a.equiv(b,d),!1,"Modifier");equal(a.equiv(d,e),!1,"Modifier");equal(a.equiv(b,e),!1,"Modifier");equal(a.equiv(e,d),!1,"Modifier");equal(a.equiv(e,/foo/m),!0,"Modifier");equal(a.equiv(h,e),!1,"Modifier");equal(a.equiv(e,h),!1,"Modifier");equal(a.equiv(h,/foo/g),!0,"Modifier");equal(a.equiv(/[a-z]/gi,/[0-9]/gi),!1,"Regex pattern");equal(a.equiv(/0/ig,/"0"/ig),!1,"Regex pattern");b=/[\n\r\u2028\u2029]/g;equal(a.equiv(b,/[\n\r\u2028\u2029]/g),!0,"Regex pattern");equal(a.equiv(b,/[\n\r\u2028\u2028]/g),!1,"Regex pattern");equal(a.equiv(b,/[\n\r\u2028\u2029]/),!1,"Regex pattern");b=RegExp("^[-_.a-z0-9]+@([-_a-z0-9]+\\.)+([A-Za-z][A-Za-z]|[A-Za-z][A-Za-z][A-Za-z])|(([0-9][0-9]?|[0-1][0-9][0-9]|[2][0-4][0-9]|[2][5][0-5]))$");c=RegExp("^[-_.a-z0-9]+@([-_a-z0-9]+.)+([A-Za-z][A-Za-z]|[A-Za-z][A-Za-z][A-Za-z])|(([0-9][0-9]?|[0-1][0-9][0-9]|[2][0-4][0-9]|[2][5][0-5]))$");d=RegExp("^[-_.a-z0-9]+@([-_a-z0-9]+.)+([A-Za-z][A-Za-z]|[A-Za-z][A-Za-z][A-Za-z])|(([0-9][0-9]?|[0-1][0-9][0-9]|[2][0-4][0-9]|[2][5][0-5]))$","gi");e=RegExp("^[-_.a-z0-9]+@([-_a-z0-9]+.)+([A-Za-z][A-Za-z]|[A-Za-z][A-Za-z][A-Za-z])|(([0-9][0-9]?|[0-1][0-9][0-9]|[2][0-4][0-9]|[2][5][0-5]))$","ig");equal(a.equiv(b,RegExp("^[-_.a-z0-9]+@([-_a-z0-9]+\\.)+([A-Za-z][A-Za-z]|[A-Za-z][A-Za-z][A-Za-z])|(([0-9][0-9]?|[0-1][0-9][0-9]|[2][0-4][0-9]|[2][5][0-5]))$")),!0,"Complex Regex");equal(a.equiv(b,c),!1,"Complex Regex");equal(a.equiv(c,d),!1,"Complex Regex");equal(a.equiv(d,e),!0,"Complex Regex");b=/ /;equal(a.equiv(b,function(){}),!1,"Regex internal");equal(a.equiv(b,{}),!1,"Regex internal")});test("Complex Objects.",function(){function b(){return"fn1"}equal(a.equiv({a:1,b:null,c:[{}],d:{a:3.14159,b:!1,c:{e:b,f:[[[]]],g:{j:{k:{n:{r:"r",s:[1,2,3],t:void 0,u:0,v:{w:{x:{y:"Yahoo!",z:null}}}},q:[],p:1/0,o:99},l:void 0,m:null}},d:0,i:!0,h:"false"}},e:void 0,g:"",h:"h",f:{},i:[]},{a:1,b:null,c:[{}],d:{b:!1,a:3.14159,c:{d:0,e:b,f:[[[]]],g:{j:{k:{n:{r:"r",t:void 0,u:0,s:[1,2,3],v:{w:{x:{z:null,y:"Yahoo!"}}}},o:99,p:1/0,q:[]},l:void 0,m:null}},i:!0,h:"false"}},e:void 0,g:"",f:{},h:"h",i:[]}),!0);equal(a.equiv({a:1,b:null,c:[{}],d:{a:3.14159,b:!1,c:{d:0,e:b,f:[[[]]],g:{j:{k:{n:{s:[1,2,3],t:void 0,u:0,v:{w:{x:{y:"Yahoo!",z:null}}}},o:99,p:1/0,q:[]},l:void 0,m:null}},h:"false",i:!0}},e:void 0,f:{},g:"",h:"h",i:[]},{a:1,b:null,c:[{}],d:{a:3.14159,b:!1,c:{d:0,e:b,f:[[[]]],g:{j:{k:{n:{r:"r",s:[1,2,3],t:void 0,u:0,v:{w:{x:{y:"Yahoo!",z:null}}}},o:99,p:1/0,q:[]},l:void 0,m:null}},h:"false",i:!0}},e:void 0,f:{},g:"",h:"h",i:[]}),!1);equal(a.equiv({a:1,b:null,c:[{}],d:{a:3.14159,b:!1,c:{d:0,e:b,f:[[[]]],g:{j:{k:{n:{r:"r",s:[1,2,3],t:void 0,u:0,v:{w:{x:{y:"Yahoo!",z:null}}}},o:99,p:1/0,q:[]},l:void 0,m:null}},h:"false",i:!0}},e:void 0,f:{},g:"",h:"h",i:[]},{a:1,b:null,c:[{}],d:{a:3.14159,b:!1,c:{d:0,e:b,f:[[[]]],g:{j:{k:{n:{r:"r",s:[1,2,3],u:0,v:{w:{x:{y:"Yahoo!",z:null}}}},o:99,p:1/0,q:[]},l:void 0,m:null}},h:"false",i:!0}},e:void 0,f:{},g:"",h:"h",i:[]}),!1);equal(a.equiv({a:1,b:null,c:[{}],d:{a:3.14159,b:!1,c:{d:0,e:b,f:[[[]]],g:{j:{k:{n:{r:"r",s:[1,2,3],t:void 0,u:0,v:{w:{x:{y:"Yahoo!",z:null}}}},o:99,p:1/0,q:[]},l:void 0,m:null}},h:"false",i:!0}},e:void 0,f:{},g:"",h:"h",i:[]},{a:1,b:null,c:[{}],d:{a:3.14159,b:!1,c:{d:0,e:b,f:[[[]]],g:{j:{k:{n:{r:"r",s:[1,2,3],t:void 0,u:0,v:{w:{x:{y:"Yahoo!",z:null}}}},o:99,p:1/0,q:{}},l:void 0,m:null}},h:"false",i:!0}},e:void 0,f:{},g:"",h:"h",i:[]}),!1);var c={a:["string",null,0,"1",1,{prop:null,foo:[1,2,null,{},[],[1,2,3]],bar:void 0},3,"Hey!","\u00ce\u0161\u00ce\u00ac\u00ce\u00bd\u00ce\u00b5 \u00cf\u20ac\u00ce\u00ac\u00ce\u00bd\u00cf\u201e\u00ce\u00b1 \u00ce\u00b3\u00ce\u00bd\u00cf\u2030\u00cf\u00ce\u00af\u00ce\u00b6\u00ce\u00bf\u00cf\u2026\u00ce\u00bc\u00ce\u00b5 \u00ce\u00b1\u00cf\u201a \u00cf\u201e\u00cf\u2030\u00ce\u00bd, \u00ce\u00bc\u00ce\u00b7\u00cf\u2021\u00ce\u00b1\u00ce\u00bd\u00ce\u00ae\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00cf\u0152\u00cf\u00ce\u00b8\u00cf\u2030\u00cf\u0192\u00ce\u00b7\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00ce\u00bf\u00cf\u00ce\u00b8\u00cf\u017d\u00cf\u0192\u00ce\u00b5\u00ce\u00b9\u00cf\u201a \u00cf\u017d\u00cf\u201a \u00ce\u00bc\u00ce\u00b9\u00ce\u00b1. \u00ce\u0161\u00ce\u00bb\u00cf\u20ac \u00ce\u00b1\u00cf\u201a"],unicode:"\u00e8\u20ac \u00e6\u00b1\u2030\u00e8\u00af\u00e4\u00b8\u00e5\u02dc\u00e5\u0153\u00a8 \u00e6\u00b8\u00af\u00e6\u00be\u00b3\u00e5\u2019\u0152\u00e6\u00b5\u00b7\u00e5\u00a4\u2013\u00e7\u0161\u201e\u00e5\u017d\u00e4\u00ba\u00ba\u00e5\u0153\u02c6\u00e4\u00b8 \u00e8\u00b4\u00b5\u00e5\u00b7\u017e \u00e6\u02c6\u2018\u00e5\u017d\u00bb\u00e4\u00ba\u2020\u00e4\u00b9\u00a6\u00e5\u00ba\u2014 \u00e7\u017d\u00b0\u00e5\u0153\u00a8\u00e5\u00b0\u0161\u00e6\u0153\u2030\u00e4\u00ba\u2030",b:"b",c:b},d={a:["string",null,0,"1",1,{prop:null,foo:[1,2,null,{},[],[1,2,3]],bar:void 0},3,"Hey!","\u00ce\u0161\u00ce\u00ac\u00ce\u00bd\u00ce\u00b5 \u00cf\u20ac\u00ce\u00ac\u00ce\u00bd\u00cf\u201e\u00ce\u00b1 \u00ce\u00b3\u00ce\u00bd\u00cf\u2030\u00cf\u00ce\u00af\u00ce\u00b6\u00ce\u00bf\u00cf\u2026\u00ce\u00bc\u00ce\u00b5 \u00ce\u00b1\u00cf\u201a \u00cf\u201e\u00cf\u2030\u00ce\u00bd, \u00ce\u00bc\u00ce\u00b7\u00cf\u2021\u00ce\u00b1\u00ce\u00bd\u00ce\u00ae\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00cf\u0152\u00cf\u00ce\u00b8\u00cf\u2030\u00cf\u0192\u00ce\u00b7\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00ce\u00bf\u00cf\u00ce\u00b8\u00cf\u017d\u00cf\u0192\u00ce\u00b5\u00ce\u00b9\u00cf\u201a \u00cf\u017d\u00cf\u201a \u00ce\u00bc\u00ce\u00b9\u00ce\u00b1. \u00ce\u0161\u00ce\u00bb\u00cf\u20ac \u00ce\u00b1\u00cf\u201a"],unicode:"\u00e8\u20ac \u00e6\u00b1\u2030\u00e8\u00af\u00e4\u00b8\u00e5\u02dc\u00e5\u0153\u00a8 \u00e6\u00b8\u00af\u00e6\u00be\u00b3\u00e5\u2019\u0152\u00e6\u00b5\u00b7\u00e5\u00a4\u2013\u00e7\u0161\u201e\u00e5\u017d\u00e4\u00ba\u00ba\u00e5\u0153\u02c6\u00e4\u00b8 \u00e8\u00b4\u00b5\u00e5\u00b7\u017e \u00e6\u02c6\u2018\u00e5\u017d\u00bb\u00e4\u00ba\u2020\u00e4\u00b9\u00a6\u00e5\u00ba\u2014 \u00e7\u017d\u00b0\u00e5\u0153\u00a8\u00e5\u00b0\u0161\u00e6\u0153\u2030\u00e4\u00ba\u2030",b:"b",c:b},e={a:["string",null,0,"1",1,{prop:null,foo:[1,2,null,{},[],[1,2,3,4]],bar:void 0},3,"Hey!","\u00ce\u0161\u00ce\u00ac\u00ce\u00bd\u00ce\u00b5 \u00cf\u20ac\u00ce\u00ac\u00ce\u00bd\u00cf\u201e\u00ce\u00b1 \u00ce\u00b3\u00ce\u00bd\u00cf\u2030\u00cf\u00ce\u00af\u00ce\u00b6\u00ce\u00bf\u00cf\u2026\u00ce\u00bc\u00ce\u00b5 \u00ce\u00b1\u00cf\u201a \u00cf\u201e\u00cf\u2030\u00ce\u00bd, \u00ce\u00bc\u00ce\u00b7\u00cf\u2021\u00ce\u00b1\u00ce\u00bd\u00ce\u00ae\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00cf\u0152\u00cf\u00ce\u00b8\u00cf\u2030\u00cf\u0192\u00ce\u00b7\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00ce\u00bf\u00cf\u00ce\u00b8\u00cf\u017d\u00cf\u0192\u00ce\u00b5\u00ce\u00b9\u00cf\u201a \u00cf\u017d\u00cf\u201a \u00ce\u00bc\u00ce\u00b9\u00ce\u00b1. \u00ce\u0161\u00ce\u00bb\u00cf\u20ac \u00ce\u00b1\u00cf\u201a"],unicode:"\u00e8\u20ac \u00e6\u00b1\u2030\u00e8\u00af\u00e4\u00b8\u00e5\u02dc\u00e5\u0153\u00a8 \u00e6\u00b8\u00af\u00e6\u00be\u00b3\u00e5\u2019\u0152\u00e6\u00b5\u00b7\u00e5\u00a4\u2013\u00e7\u0161\u201e\u00e5\u017d\u00e4\u00ba\u00ba\u00e5\u0153\u02c6\u00e4\u00b8 \u00e8\u00b4\u00b5\u00e5\u00b7\u017e \u00e6\u02c6\u2018\u00e5\u017d\u00bb\u00e4\u00ba\u2020\u00e4\u00b9\u00a6\u00e5\u00ba\u2014 \u00e7\u017d\u00b0\u00e5\u0153\u00a8\u00e5\u00b0\u0161\u00e6\u0153\u2030\u00e4\u00ba\u2030",b:"b",c:b},h={a:["string",null,0,"1",1,{prop:null,foo:[1,2,null,{},[],[1,2,3]],newprop:void 0,bar:void 0},3,"Hey!","\u00ce\u0161\u00ce\u00ac\u00ce\u00bd\u00ce\u00b5 \u00cf\u20ac\u00ce\u00ac\u00ce\u00bd\u00cf\u201e\u00ce\u00b1 \u00ce\u00b3\u00ce\u00bd\u00cf\u2030\u00cf\u00ce\u00af\u00ce\u00b6\u00ce\u00bf\u00cf\u2026\u00ce\u00bc\u00ce\u00b5 \u00ce\u00b1\u00cf\u201a \u00cf\u201e\u00cf\u2030\u00ce\u00bd, \u00ce\u00bc\u00ce\u00b7\u00cf\u2021\u00ce\u00b1\u00ce\u00bd\u00ce\u00ae\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00cf\u0152\u00cf\u00ce\u00b8\u00cf\u2030\u00cf\u0192\u00ce\u00b7\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00ce\u00bf\u00cf\u00ce\u00b8\u00cf\u017d\u00cf\u0192\u00ce\u00b5\u00ce\u00b9\u00cf\u201a \u00cf\u017d\u00cf\u201a \u00ce\u00bc\u00ce\u00b9\u00ce\u00b1. \u00ce\u0161\u00ce\u00bb\u00cf\u20ac \u00ce\u00b1\u00cf\u201a"],unicode:"\u00e8\u20ac \u00e6\u00b1\u2030\u00e8\u00af\u00e4\u00b8\u00e5\u02dc\u00e5\u0153\u00a8 \u00e6\u00b8\u00af\u00e6\u00be\u00b3\u00e5\u2019\u0152\u00e6\u00b5\u00b7\u00e5\u00a4\u2013\u00e7\u0161\u201e\u00e5\u017d\u00e4\u00ba\u00ba\u00e5\u0153\u02c6\u00e4\u00b8 \u00e8\u00b4\u00b5\u00e5\u00b7\u017e \u00e6\u02c6\u2018\u00e5\u017d\u00bb\u00e4\u00ba\u2020\u00e4\u00b9\u00a6\u00e5\u00ba\u2014 \u00e7\u017d\u00b0\u00e5\u0153\u00a8\u00e5\u00b0\u0161\u00e6\u0153\u2030\u00e4\u00ba\u2030",b:"b",c:b},j={a:["string",null,0,"1",1,{prop:null,foo:[1,2,null,{},[],[1,2,3]],bar:void 0},3,"Hey!","\u00ce\u0161\u00ce\u00ac\u00ce\u00bd\u00ce\u00b5 \u00cf\u20ac\u00ce\u00ac\u00ce\u00bd\u00cf\u201e\u00ce\u00b1 \u00ce\u00b3\u00ce\u00bd\u00cf\u2030\u00cf\u00ce\u00af\u00ce\u00b6\u00ce\u00bf\u00cf\u2026\u00ce\u00bc\u00ce\u00b5 \u00ce\u00b1\u00cf\u201a \u00cf\u201e\u00cf\u2030\u00ce\u00bd, \u00ce\u00bc\u00ce\u00b7\u00cf\u2021\u00ce\u00b1\u00ce\u00bd\u00ce\u00ae\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00cf\u0152\u00cf\u00ce\u00b8\u00cf\u2030\u00cf\u0192\u00ce\u00b7\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00ce\u00bf\u00cf\u00ce\u00b8\u00cf\u017d\u00cf\u0192\u00ce\u00b5\u00ce\u00b9\u00cf\u201a \u00cf\u017d\u00cf\u201a \u00ce\u00bc\u00ce\u00b9\u00ce\u00b1. \u00ce\u0161\u00ce\u00bb\u00cf\u20ac \u00ce\u00b1"],unicode:"\u00e8\u20ac \u00e6\u00b1\u2030\u00e8\u00af\u00e4\u00b8\u00e5\u02dc\u00e5\u0153\u00a8 \u00e6\u00b8\u00af\u00e6\u00be\u00b3\u00e5\u2019\u0152\u00e6\u00b5\u00b7\u00e5\u00a4\u2013\u00e7\u0161\u201e\u00e5\u017d\u00e4\u00ba\u00ba\u00e5\u0153\u02c6\u00e4\u00b8 \u00e8\u00b4\u00b5\u00e5\u00b7\u017e \u00e6\u02c6\u2018\u00e5\u017d\u00bb\u00e4\u00ba\u2020\u00e4\u00b9\u00a6\u00e5\u00ba\u2014 \u00e7\u017d\u00b0\u00e5\u0153\u00a8\u00e5\u00b0\u0161\u00e6\u0153\u2030\u00e4\u00ba\u2030",b:"b",c:b},f={a:["string",null,0,"1",1,{prop:null,foo:[1,2,void 0,{},[],[1,2,3]],bar:void 0},3,"Hey!","\u00ce\u0161\u00ce\u00ac\u00ce\u00bd\u00ce\u00b5 \u00cf\u20ac\u00ce\u00ac\u00ce\u00bd\u00cf\u201e\u00ce\u00b1 \u00ce\u00b3\u00ce\u00bd\u00cf\u2030\u00cf\u00ce\u00af\u00ce\u00b6\u00ce\u00bf\u00cf\u2026\u00ce\u00bc\u00ce\u00b5 \u00ce\u00b1\u00cf\u201a \u00cf\u201e\u00cf\u2030\u00ce\u00bd, \u00ce\u00bc\u00ce\u00b7\u00cf\u2021\u00ce\u00b1\u00ce\u00bd\u00ce\u00ae\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00cf\u0152\u00cf\u00ce\u00b8\u00cf\u2030\u00cf\u0192\u00ce\u00b7\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00ce\u00bf\u00cf\u00ce\u00b8\u00cf\u017d\u00cf\u0192\u00ce\u00b5\u00ce\u00b9\u00cf\u201a \u00cf\u017d\u00cf\u201a \u00ce\u00bc\u00ce\u00b9\u00ce\u00b1. \u00ce\u0161\u00ce\u00bb\u00cf\u20ac \u00ce\u00b1\u00cf\u201a"],unicode:"\u00e8\u20ac \u00e6\u00b1\u2030\u00e8\u00af\u00e4\u00b8\u00e5\u02dc\u00e5\u0153\u00a8 \u00e6\u00b8\u00af\u00e6\u00be\u00b3\u00e5\u2019\u0152\u00e6\u00b5\u00b7\u00e5\u00a4\u2013\u00e7\u0161\u201e\u00e5\u017d\u00e4\u00ba\u00ba\u00e5\u0153\u02c6\u00e4\u00b8 \u00e8\u00b4\u00b5\u00e5\u00b7\u017e \u00e6\u02c6\u2018\u00e5\u017d\u00bb\u00e4\u00ba\u2020\u00e4\u00b9\u00a6\u00e5\u00ba\u2014 \u00e7\u017d\u00b0\u00e5\u0153\u00a8\u00e5\u00b0\u0161\u00e6\u0153\u2030\u00e4\u00ba\u2030",b:"b",c:b},g={a:["string",null,0,"1",1,{prop:null,foo:[1,2,null,{},[],[1,2,3]],bat:void 0},3,"Hey!","\u00ce\u0161\u00ce\u00ac\u00ce\u00bd\u00ce\u00b5 \u00cf\u20ac\u00ce\u00ac\u00ce\u00bd\u00cf\u201e\u00ce\u00b1 \u00ce\u00b3\u00ce\u00bd\u00cf\u2030\u00cf\u00ce\u00af\u00ce\u00b6\u00ce\u00bf\u00cf\u2026\u00ce\u00bc\u00ce\u00b5 \u00ce\u00b1\u00cf\u201a \u00cf\u201e\u00cf\u2030\u00ce\u00bd, \u00ce\u00bc\u00ce\u00b7\u00cf\u2021\u00ce\u00b1\u00ce\u00bd\u00ce\u00ae\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00cf\u0152\u00cf\u00ce\u00b8\u00cf\u2030\u00cf\u0192\u00ce\u00b7\u00cf\u201a \u00ce\u00b5\u00cf\u20ac\u00ce\u00b9\u00ce\u00b4\u00ce\u00b9\u00ce\u00bf\u00cf\u00ce\u00b8\u00cf\u017d\u00cf\u0192\u00ce\u00b5\u00ce\u00b9\u00cf\u201a \u00cf\u017d\u00cf\u201a \u00ce\u00bc\u00ce\u00b9\u00ce\u00b1. \u00ce\u0161\u00ce\u00bb\u00cf\u20ac \u00ce\u00b1\u00cf\u201a"],unicode:"\u00e8\u20ac \u00e6\u00b1\u2030\u00e8\u00af\u00e4\u00b8\u00e5\u02dc\u00e5\u0153\u00a8 \u00e6\u00b8\u00af\u00e6\u00be\u00b3\u00e5\u2019\u0152\u00e6\u00b5\u00b7\u00e5\u00a4\u2013\u00e7\u0161\u201e\u00e5\u017d\u00e4\u00ba\u00ba\u00e5\u0153\u02c6\u00e4\u00b8 \u00e8\u00b4\u00b5\u00e5\u00b7\u017e \u00e6\u02c6\u2018\u00e5\u017d\u00bb\u00e4\u00ba\u2020\u00e4\u00b9\u00a6\u00e5\u00ba\u2014 \u00e7\u017d\u00b0\u00e5\u0153\u00a8\u00e5\u00b0\u0161\u00e6\u0153\u2030\u00e4\u00ba\u2030",b:"b",c:b};equal(a.equiv(c,d),!0);equal(a.equiv(d,c),!0);equal(a.equiv(d,e),!1);equal(a.equiv(e,d),!1);equal(a.equiv(c,e),!1);equal(a.equiv(c,h),!1);equal(a.equiv(c,j),!1);equal(a.equiv(c,j),!1);equal(a.equiv(c,f),!1);equal(a.equiv(c,g),!1);equal(a.equiv(g,e),!1)});test("Complex Arrays.",function(){function b(){}equal(a.equiv([1,2,3,!0,{},null,[{a:["","1",0]},5,6,7],"foo"],[1,2,3,!0,{},null,[{a:["","1",0]},5,6,7],"foo"]),!0);equal(a.equiv([1,2,3,!0,{},null,[{a:["","1",0]},5,6,7],"foo"],[1,2,3,!0,{},null,[{b:["","1",0]},5,6,7],"foo"]),!1);var c=[{b:b,c:!1,"do":"reserved word","for":{ar:[3,5,9,"hey!",[],{ar:[1,[3,4,6,9,null,[],[]]],e:b,f:void 0}]},e:0.43445},5,"string",0,b,!1,null,void 0,0,[4,5,6,7,8,9,11,22,33,44,55,"66",null,[],[[[[[3]]]],"3"],{},1/0],[],[[[],"foo",null,{n:1/0,z:{a:[3,4,5,6,"yep!",void 0,void 0],b:{}}},{}]]];equal(a.equiv(c,[{b:b,c:!1,"do":"reserved word","for":{ar:[3,5,9,"hey!",[],{ar:[1,[3,4,6,9,null,[],[]]],e:b,f:void 0}]},e:0.43445},5,"string",0,b,!1,null,void 0,0,[4,5,6,7,8,9,11,22,33,44,55,"66",null,[],[[[[[3]]]],"3"],{},1/0],[],[[[],"foo",null,{n:1/0,z:{a:[3,4,5,6,"yep!",void 0,void 0],b:{}}},{}]]]),!0);equal(a.equiv(c,[{b:b,c:!1,"do":"reserved word","for":{ar:[3,5,9,"hey!",[],{ar:[1,[3,4,6,9,null,[],[]]],e:b,f:void 0}]},e:0.43445},5,"string",0,b,!1,null,void 0,0,[4,5,6,7,8,9,11,22,33,44,55,"66",null,[],[[[[[2]]]],"3"],{},1/0],[],[[[],"foo",null,{n:1/0,z:{a:[3,4,5,6,"yep!",void 0,void 0],b:{}}},{}]]]),!1);equal(a.equiv(c,[{b:b,c:!1,"do":"reserved word","for":{ar:[3,5,9,"hey!",[],{ar:[1,[3,4,6,9,null,[],[]]],e:b,f:void 0}]},e:0.43445},5,"string",0,b,!1,null,void 0,0,[4,5,6,7,8,9,11,22,33,44,55,"66",null,[],[[[[[3]]]],"3"],{},1/0],[],[[[],"foo",null,{n:-1/0,z:{a:[3,4,5,6,"yep!",void 0,void 0],b:{}}},{}]]]),!1);equal(a.equiv(c,[{b:b,c:!1,"do":"reserved word","for":{ar:[3,5,9,"hey!",[],{ar:[1,[3,4,6,9,null,[],[]]],e:b,f:void 0}]},e:0.43445},5,"string",0,b,!1,null,void 0,0,[4,5,6,7,8,9,11,22,33,44,55,"66",null,[],[[[[[3]]]],"3"],{},1/0],[],[[[],"foo",{n:1/0,z:{a:[3,4,5,6,"yep!",void 0,void 0],b:{}}},{}]]]),!1);equal(a.equiv(c,[{b:b,c:!1,"do":"reserved word","for":{ar:[3,5,9,"hey!",[],{ar:[1,[3,4,6,9,null,[],[]]],e:b}]},e:0.43445},5,"string",0,b,!1,null,void 0,0,[4,5,6,7,8,9,11,22,33,44,55,"66",null,[],[[[[[3]]]],"3"],{},1/0],[],[[[],"foo",null,{n:1/0,z:{a:[3,4,5,6,"yep!",void 0,void 0],b:{}}},{}]]]),!1)});test("Prototypal inheritance",function(){function b(a){this.id=a}function c(a){this.id=a}c.prototype=new b;var d=new b("ok"),e=new c("ok");equal(a.equiv(function(){},function(){}),!1);equal(a.equiv(e,d),!0);b.prototype.bar=!0;equal(a.equiv(e,d),!0);equal(a.equiv(function(){},function(){}),!1);equal(a.equiv(e,d),!0);c.prototype.foo=!0;equal(a.equiv(e,d),!1);equal(a.equiv(function(){},function(){}),!1)});test("Instances",function(){function b(){}function c(){this.fn=function(){}}function d(a){this.year=a;this.isOld=function(){return 10<a}}var e=new b,h=new b,j=new c,f=new c;equal(a.equiv(e,h),!0,"Same property, same constructor");equal(a.equiv(j,f),!0,"Same property, same constructor");equal(a.equiv(e,j),!1,"Same properties but different constructor");e=new d(30);h=new d(30);j=new d(10);f=new function(a){this.year=a;this.isOld=function(){return 80<a}}(30);equal(a.equiv(e,e),!0);equal(a.equiv(e,j),!1);equal(a.equiv(e,h),!0);equal(a.equiv(e,f),!1)});test("Complex Instances Nesting (with function value in literals and/or in nested instances)",function(){function b(a){this.a={};this.fn=a;this.b={a:[]};this.o={};this.fn1=a}function c(a){this.fn=a;this.fn1=function(){};this.a=new b(function(){})}function d(){}function e(a){this.x=10;this.fn=a;this.fn1=function(){};this.fn2=function(){};this.fn3={a:!0,b:d};this.o1={};this.b1=new c(function(){});this.b2=new c({x:{b2:new c(function(){})}})}function h(a){function b(){}this.x=10;this.fn=a;this.fn1=function(){};this.fn2=b;this.fn3={a:!0,b:d,c:b};this.o1={};this.b1=new c(function(){});this.b2=new c({x:{b2:new c(function(){})}})}function j(a){this.x=10;this.fn=a;this.fn1=function(){};this.fn2=function(){};this.fn3={a:!0,b:d};this.o1={};this.b1=new c(function(){});this.b2=new c({x:{b1:new c({a:function(){}}),b2:new c(function(){})}})}var f=new b(function(){}),g=new b(function(){});equal(a.equiv(f,g),!0);equal(a.equiv(f,g),!0);f=new c(function(){});g=new c(function(){});equal(a.equiv(f,g),!0);f=new e(function(){});g=new e(function(){});equal(a.equiv(f,g),!0);f=new h(function(){});g=new h(function(){});equal(a.equiv(f,g),!1);f=new j(function(){});g=new j(function(){});equal(a.equiv(f,g),!1)});test("object with references to self wont loop",function(){var b={abc:null},c={abc:null};b.abc=b;c.abc=c;equal(a.equiv(b,c),!0,"Should not repeat test on object (ambigous test)");b.def=1;c.def=1;equal(a.equiv(b,c),!0,"Should not repeat test on object (ambigous test)");b.def=1;c.def=0;equal(a.equiv(b,c),!1,"Should not repeat test on object (unambigous test)")});test("array with references to self wont loop",function(){var b=[],c=[];b.push(b);c.push(c);equal(a.equiv(b,c),!0,"Should not repeat test on array (ambigous test)");b.push("abc");c.push("abc");equal(a.equiv(b,c),!0,"Should not repeat test on array (ambigous test)");b.push("hello");c.push("goodbye");equal(a.equiv(b,c),!1,"Should not repeat test on array (unambigous test)")});test("mixed object/array with references to self wont loop",function(){var b=[{abc:null}],c=[{abc:null}];b[0].abc=b;c[0].abc=c;b.push(b);c.push(c);equal(a.equiv(b,c),!0,"Should not repeat test on object/array (ambigous test)");b[0].def=1;c[0].def=1;equal(a.equiv(b,c),!0,"Should not repeat test on object/array (ambigous test)");b[0].def=1;c[0].def=0;equal(a.equiv(b,c),!1,"Should not repeat test on object/array (unambigous test)")});test("Test that must be done at the end because they extend some primitive's prototype",function(){var b=Function.prototype;b.global=!0;b.multiline=!0;b.ignoreCase=!1;b.source="my regex";b=/my regex/gm;equal(a.equiv(b,function(){}),!1,"A function that looks that a regex isn't a regex");equal(a.equiv(function(){},b),!1,"Same conversely, but ensures that function and regexp are distinct because their constructor are different")})})(QUnit);