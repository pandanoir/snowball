(function(h){function r(c){function e(b){d[b]&&"\n"!==f[f.length-1]&&f.push("\n")}function j(b){var a={'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;","&":"&amp;"};return(""+b).replace(/[<>&\"\']/g,function(b){return a[b]||b})}var f=[],g=[],d;c=c||{};var a=c.linebreak_at||"mytag",h=void 0,n,a=a||[];"string"===typeof a&&(a=a.split(","));h=h||{};for(n=a.length;n--;)h[a[n]]={};d=h;this.start=function(b,a,c){c||g.push(b);f.push("<",b);for(var d in a)f.push(" "+j(d),'="',j(a[d]),'"');f.push(c?" />":">");e(b)};this.end=function(b){g.pop();e(b);f.push("</",b,">");e(b)};this.text=function(b){f.push(j(b))};this.cdata=function(b){f.push("<![CDATA[",b,"]]\x3e")};this.comment=function(b){f.push("\x3c!--",b,"--\x3e")};this.pi=function(b,a){a?f.push("<?",b," ",a,"?>\n"):f.push("<?",b,"?>\n")};this.doctype=function(b){f.push("<!DOCTYPE",b,">\n")};this.getString=function(){for(var b=g.length-1;0<=b;b--)this.end(g[b]);g=[];return f.join("").replace(/\n$/,"")};this.reset=function(){f=[];g=[]};this.pi(c.xmldecl||'xml version="1.0" encoding="UTF-8"')}var e,k,m=[],p,q,l={failed:0,passed:0,total:0,time:0};h.jUnitReport=function(){};h.moduleStart(function(c){e={name:c.name,tests:[],failures:0,time:0,stdout:"",stderr:""};m.push(e)});h.moduleDone(function(){});h.testStart(function(c){q||(q=new Date);p=0;k={name:c.name,failures:[],start:new Date};e||(e={name:"default",tests:[],failures:0,time:0,stdout:"",stderr:""},m.push(e));e.tests.push(k)});h.testDone(function(c){k.failed=c.failed;k.total=c.total;e.failures+=c.failed;l.failed+=c.failed;l.passed+=c.passed;l.total+=c.total});h.log(function(c){p++;c.result||(k.failures.push(c.message),e.stdout+="["+e.name+", "+k.name+", "+p+"] "+c.message+"\n")});h.done(function(){function c(a){function b(a){return 10>a?"0"+a:a}return a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"Z"}var e,j,f,g,d,a=new r({linebreak_at:"testsuites,testsuite,testcase,failure,system-out,system-err"}),k=new Date;a.start("testsuites");for(e=0;e<m.length;e++){d=m[e];for(j=0;j<d.tests.length;j++)g=d.tests[j],g.time=(k.getTime()-g.start.getTime())/1E3,d.time+=g.time;a.start("testsuite",{id:""+e,name:d.name,errors:"0",failures:d.failures,hostname:"localhost",tests:d.tests.length,time:Math.round(1E3*d.time)/1E3,timestamp:c(k)});for(j=0;j<d.tests.length;j++){g=d.tests[j];a.start("testcase",{name:g.name,total:g.total,failed:g.failed,time:Math.round(1E3*g.time)/1E3});for(f=0;f<g.failures.length;f++)a.start("failure",{type:"AssertionFailedError",message:g.failures[f]},!0);a.end("testcase")}d.stdout&&(a.start("system-out"),a.cdata("\n"+d.stdout),a.end("system-out"));d.stderr&&(a.start("system-err"),a.cdata("\n"+d.stderr),a.end("system-err"));a.end("testsuite")}a.end("testsuites");l.time=new Date-q;h.jUnitReport({results:l,xml:a.getString()})})})(QUnit);